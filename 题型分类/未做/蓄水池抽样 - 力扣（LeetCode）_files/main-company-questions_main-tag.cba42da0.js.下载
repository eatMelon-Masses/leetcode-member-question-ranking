(window["__LOADABLE_LOADED_CHUNKS__"]=window["__LOADABLE_LOADED_CHUNKS__"]||[]).push([[28],{"25Hf":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("D57K");var a=n("ERkP");var o=n.n(a);var c=n("HA2f");var i=o.a.memo(function(e){var t=e.isAdmin,n=e.checked,a=e.onChange,i=Object(r["__rest"])(e,["isAdmin","checked","onChange"]);if(!t)return null;return o.a.createElement(c["a"],Object(r["__assign"])({checked:n,onChange:a},i),"开放公共编辑")})},"8hCz":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getTag"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"tagType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"TagTypeEnum"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"wikiEntry"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}},{kind:"Argument",name:{kind:"Name",value:"tagType"},value:{kind:"Variable",name:{kind:"Name",value:"tagType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tag"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nameTranslated"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPublic"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:190}};n.loc.source={body:"query getTag($slug: String!, $tagType: TagTypeEnum!) {\n  wikiEntry(slug: $slug, tagType: $tagType) {\n    tag {\n      name\n      slug\n      nameTranslated\n    }\n    content\n    isPublic\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e){return e.filter(function(e){if(e.kind!=="FragmentDefinition")return true;var t=e.name.value;if(a[t]){return false}else{a[t]=true;return true}})}function r(e,t){if(e.kind==="FragmentSpread"){t.add(e.name.value)}else if(e.kind==="VariableDefinition"){var n=e.type;if(n.kind==="NamedType"){t.add(n.name.value)}}if(e.selectionSet){e.selectionSet.selections.forEach(function(e){r(e,t)})}if(e.variableDefinitions){e.variableDefinitions.forEach(function(e){r(e,t)})}if(e.definitions){e.definitions.forEach(function(e){r(e,t)})}}var c={};(function e(){n.definitions.forEach(function(e){if(e.name){var t=new Set;r(e,t);c[e.name.value]=t}})})();function u(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t){return a}}}function o(n,e){var a={kind:n.kind,definitions:[u(n,e)]};if(n.hasOwnProperty("loc")){a.loc=n.loc}var t=c[e]||new Set;var i=new Set;var r=new Set;t.forEach(function(e){r.add(e)});while(r.size>0){var o=r;r=new Set;o.forEach(function(e){if(!i.has(e)){i.add(e);var t=c[e]||new Set;t.forEach(function(e){r.add(e)})}})}i.forEach(function(e){var t=u(n,e);if(t){a.definitions.push(t)}});return a}e.exports=n;e.exports["getTag"]=o(n,"getTag")},Aayq:function(e,t,n){"use strict";var h=n("D57K");var j=n("ERkP");var S=n.n(j);var _=n("9xBf");var C=n("nPqx");var a=n("xdqw");var T=n("1QlS");var s=n("v31z");var f=n("S6Il");var v=n("qz+f");var E=n("kaNR");var N=Object(j["memo"])(function(t){var e=Object(j["useRef"])(null);var n=Object(v["e"])(e);var a=Object(h["__read"])(Object(T["a"])(false),3),i=a[0],r=a[1],o=a[2];var c=Object(h["__read"])(Object(j["useState"])(t.defaultContent),2),u=c[0],l=c[1];var d=Object(j["useCallback"])(function(e){t.onContentChange(e);l(e)},[t.onContentChange]);return S.a.createElement(E["e"],null,S.a.createElement(E["a"],null,S.a.createElement(v["b"],{onTrigger:n}),S.a.createElement(E["f"],null),i?S.a.createElement(s["a"],{icon:"edit",onClick:o,size:"xs",type:"ghost"},"编辑"):S.a.createElement(s["a"],{icon:"eye",onClick:r,size:"xs",type:"ghost"},"预览")),S.a.createElement(f["a"],{ref:e,content:u,onContentChange:d,onSetup:v["c"]}),i&&S.a.createElement(E["g"],null,u))});n.d(t,"a",function(){return i});var w=Object(a["b"])("tag-editor-draft");var i=function(e){var t=e.isPublic,n=e.tagSlug,a=e.tagContent,i=e.contributeTagContent,r=e.CustomButton;var o=Object(h["__read"])(Object(T["a"])(false),3),c=o[0],u=o[1],l=o[2];var d=Object(h["__read"])(Object(j["useState"])(0),2),s=d[0],f=d[1];var v=Object(h["__read"])(Object(j["useState"])(false),2),m=v[0],g=v[1];var b=Object(j["useCallback"])(function(e){w.set(n,e)},[n]);var p=Object(j["useMemo"])(function(){return[{title:"贡献词条内容",content:"我们欢迎用户贡献专业的词条内容，若您贡献的内容被收录您将获得 50 力扣积分奖励",okText:"贡献",onOk:function(){f(1)}},{title:"编辑词条",content:S.a.createElement(N,{defaultContent:w.get(n,a||""),onContentChange:b}),okText:"提交",onOk:function(){g(true);i({slug:n,content:w.get(n)||"",callback:function(){w.remove(n);f(2);g(false)}})}},{title:"提交成功",content:"感谢您的内容贡献！若您的贡献内容被收录，您将会收到通知及积分奖励。",onOk:l}]},[n,a,i]);var k=s===1;var y=p[s];var O=Object(j["useCallback"])(function(){if(!k){f(0)}u()},[k]);if(!t)return null;return S.a.createElement(S.a.Fragment,null,S.a.createElement(_["a"],{title:"若您贡献的内容被收录您将获得 50 力扣积分奖励"},r?S.a.createElement(r,{onClick:O}):S.a.createElement(E["h"],{size:"sm",type:"ghost",icon:"edit",onClick:O},"贡献词条描述")),S.a.createElement(C["a"],{title:y.title,okText:y.okText,maskClosable:!k,visible:c,onClose:l,onOk:y.onOk,width:k?650:undefined,disableOk:m},y.content))}},fRj6:function(e,t,n){"use strict";var f=n("D57K");var v=n("ERkP");var m=n("K/af");var g=n("8d7B");var d=n("nHJD");var s=n("u3dr");var b=n("oOYJ");var p=n("TtBF");var a=n("2wT7");var k=n("pN2L");var y=n("d9YI");var O=n("HnWI");var h=n("AouM");var j=n("4HYP");var S=n("rzNM");var _=n("U3QC");var C=n("QXhF");var T=n("B07F");var E=n("L6nh");var i=n("2DAM");var r=n.n(i);var o=n("X4a2");var c=n("YnYl");var u=r()(o["a"].tags.home);var l=r()(o["a"].companyQuestions.home);var N=function(e){var t=e.match(u);if(t){return{slug:t[1],tagType:c["z"].Topic}}var n=e.match(l);if(n){return{slug:n[1],tagType:c["z"].Company}}};var w=n("vmmZ");var x=n.n(w);var D=n("xIlS");var P=n.n(D);var F=n("8hCz");var A=n.n(F);var z=function(n){Object(f["__extends"])(e,n);function e(e){var t=n.call(this)||this;t.client=e;t.defaultState={tag:null,loading:true};return t}e.prototype.setTag=function(e,t){if(t){e.tag={slug:t.tag.slug,name:t.tag.name,translatedName:t.tag.nameTranslated,content:t.content||undefined,isPublic:t.isPublic}}e.loading=false};e.prototype.getTag=function(e){var n=this;return e.pipe(Object(h["a"])(function(e){return n.client.watchQuery({query:A.a,variables:Object(f["__assign"])({},e)}).pipe(Object(C["b"])("获取标签信息失败"),Object(j["a"])(function(e){var t=e.data;return Object(k["a"])(n.getActions().setTag(t.wikiEntry),d["a"])}))}))};e.prototype.contributeTagContent=function(e){var r=this;return e.pipe(Object(S["a"])(function(e){var t=e.slug,n=e.tagType,a=e.content,i=e.callback;return r.client.mutate({mutation:x.a,variables:{data:{tagType:n,slug:t,content:a}}}).pipe(Object(C["b"])("贡献词条内容失败"),Object(_["a"])(i),Object(j["a"])(function(){return y["a"]}))}))};e.prototype.togglePublic=function(e){var t=this;return e.pipe(Object(S["a"])(function(e){return t.client.mutate({mutation:P.a,variables:{data:Object(f["__assign"])({},e)}}).pipe(Object(C["b"])("设置开放编辑失败"),Object(j["a"])(function(){return y["a"]}))}))};var t,a,i,r,o,c,u,l;Object(f["__decorate"])([Object(s["c"])(),Object(f["__metadata"])("design:type",Function),Object(f["__metadata"])("design:paramtypes",[Object,typeof(t=typeof E["GetTag"]!=="undefined"&&E["GetTag"].WikiEntry)==="function"?t:Object]),Object(f["__metadata"])("design:returntype",void 0)],e.prototype,"setTag",null);Object(f["__decorate"])([Object(b["a"])({payloadGetter:function(e,t){return N(e.path)||t()},skipFirstClientDispatch:false}),Object(f["__metadata"])("design:type",Function),Object(f["__metadata"])("design:paramtypes",[typeof(a=typeof O["a"]!=="undefined"&&O["a"])==="function"?a:Object]),Object(f["__metadata"])("design:returntype",typeof(i=typeof O["a"]!=="undefined"&&O["a"])==="function"?i:Object)],e.prototype,"getTag",null);Object(f["__decorate"])([Object(s["b"])(),Object(f["__metadata"])("design:type",Function),Object(f["__metadata"])("design:paramtypes",[typeof(r=typeof O["a"]!=="undefined"&&O["a"])==="function"?r:Object]),Object(f["__metadata"])("design:returntype",typeof(o=typeof O["a"]!=="undefined"&&O["a"])==="function"?o:Object)],e.prototype,"contributeTagContent",null);Object(f["__decorate"])([Object(s["b"])(),Object(f["__metadata"])("design:type",Function),Object(f["__metadata"])("design:paramtypes",[typeof(c=typeof O["a"]!=="undefined"&&O["a"])==="function"?c:Object]),Object(f["__metadata"])("design:returntype",typeof(u=typeof O["a"]!=="undefined"&&O["a"])==="function"?u:Object)],e.prototype,"togglePublic",null);e=Object(f["__decorate"])([Object(p["a"])("CommonTagModule"),Object(f["__metadata"])("design:paramtypes",[typeof(l=typeof T["a"]!=="undefined"&&T["a"])==="function"?l:Object])],e);return e}(a["a"]);n.d(t,"a",function(){return V});var V=function(e,i){var t=Object(v["useContext"])(g["userContext"]).isAdmin;var n=Object(f["__read"])(Object(m["a"])(z),2),a=n[0],r=n[1];var o=a.tag;Object(v["useEffect"])(function(){r.getTag({slug:e,tagType:i})},[e,i]);var c=Object(v["useCallback"])(function(){r.togglePublic({slug:o.slug,tagType:i,value:!o.isPublic})},[o&&o.slug,o&&o.isPublic,i]);var u=Object(v["useCallback"])(function(e){var t=e.slug,n=e.content,a=e.callback;r.contributeTagContent({slug:t,tagType:i,content:n,callback:a})},[i]);var l=Object(v["useCallback"])(function(){return{isAdmin:!!t,checked:o.isPublic,onChange:c}},[t,o&&o.isPublic,c]);var d=Object(v["useCallback"])(function(){return{isPublic:o.isPublic,tagSlug:o.slug,tagContent:o.content,contributeTagContent:u}},[o&&o.isPublic,o&&o.slug,o&&o.content,u]);var s=Object(v["useCallback"])(function(){return{content:o.content}},[o&&o.content]);return{state:a,getCheckBoxProps:o!==null?l:undefined,getContributeProps:o!==null?d:undefined,getContentProps:o!==null?s:undefined}}},kaNR:function(e,t,n){"use strict";n.d(t,"h",function(){return u});n.d(t,"c",function(){return l});n.d(t,"b",function(){return d});n.d(t,"d",function(){return s});n.d(t,"g",function(){return f});n.d(t,"e",function(){return v});n.d(t,"a",function(){return m});n.d(t,"f",function(){return g});var o=n("D57K");var a=n("LJ7e");var i=n("SwI/");var r=n("v31z");var c=n("lDJ/");var u=Object(a["default"])(r["a"],{target:"e1uuwslt0"})({color:i["b"].primary5,":hover:not([disabled])":{color:i["b"].primary6}},"label:PrimaryButton;");var l=Object(a["default"])("div",{target:"e1uuwslt1"})({display:"none",position:"absolute",width:"100%",left:0,bottom:0,background:"linear-gradient(180deg, rgba(255,255,255,0.00) 0%, #FFFFFF 80%);",cursor:"pointer",color:i["b"].grey4,fontSize:"14px",transition:"color .2s",alignItems:"flex-end",justifyContent:"center",":hover":{color:i["b"].primary5}},"label:ContentMask;");var d=Object(a["default"])("div",{target:"e1uuwslt2"})(function(e){var t,n;var a=e.collapsed,i=e.maxHeight,r=i===void 0?300:i;return Object(o["__assign"])((t={position:"relative",marginBottom:"20px"},t[""+u]={display:"flex",margin:"20px auto 0 auto"},t),a?(n={maxHeight:r+"px",overflow:"hidden"},n[""+l]={display:"flex",height:r+"px"},n):{})},"label:CollapsibleMarkdownContent;");var s=Object(a["default"])(c["a"],{target:"e1uuwslt3"})({width:"640px",padding:0},"label:Description;");var f=Object(a["default"])(c["a"],{target:"e1uuwslt4"})({position:"absolute",width:"100%",top:"50px",bottom:0},"label:PreviewContent;");var v=Object(a["default"])("div",{target:"e1uuwslt5"})({height:"500px",margin:"-15px -15px 0 -15px",display:"flex",flexDirection:"column",overflow:"hidden",position:"relative"},"label:EditorContainer;");var m=Object(a["default"])("div",{target:"e1uuwslt6"})({display:"flex",alignItems:"center",padding:"0 15px",borderBottom:"1px solid "+i["b"].grey3,flex:"0 0 40px",marginBottom:"10px"},"label:ActionsContainer;");var g=Object(a["default"])("div",{target:"e1uuwslt7"})({flex:1},"label:FlexPlaceholder;")},pDjN:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var m=n("D57K");var g=n("ERkP");var b=n.n(g);var p=n("WWwk");var k=n("1QlS");var y=n("SDT+");var O=n("kaNR");var a=b.a.memo(function(e){var t=e.content,n=e.maxHeight,a=e.copyCallback,i=e.className;var r=Object(m["__read"])(Object(g["useState"])(true),2),o=r[0],c=r[1];var u=Object(m["__read"])(Object(k["a"])(true),3),l=u[0],d=u[1],s=u[2];var f=Object(g["useRef"])(null);var v=Object(y["a"])(f);Object(p["a"])(function(){if(f.current&&f.current.getBoundingClientRect().height<145&&v){c(false);s()}},[t,v]);if(!t)return null;return b.a.createElement(O["b"],{collapsed:l,maxHeight:n,className:i},b.a.createElement(O["d"],{containerRef:f,onCopy:a},t),o&&b.a.createElement(O["h"],{onClick:d,size:"sm",type:"ghost"},"收起全文"),b.a.createElement(O["c"],{onClick:s},"查看全部"))})},vmmZ:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"contributeTagContent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WikiContributeContentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"wikiContributeContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"entry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tag"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:177}};n.loc.source={body:"mutation contributeTagContent($data: WikiContributeContentInput!) {\n  wikiContributeContent(data: $data) {\n    entry {\n      content\n      tag {\n        slug\n      }\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e){return e.filter(function(e){if(e.kind!=="FragmentDefinition")return true;var t=e.name.value;if(a[t]){return false}else{a[t]=true;return true}})}function r(e,t){if(e.kind==="FragmentSpread"){t.add(e.name.value)}else if(e.kind==="VariableDefinition"){var n=e.type;if(n.kind==="NamedType"){t.add(n.name.value)}}if(e.selectionSet){e.selectionSet.selections.forEach(function(e){r(e,t)})}if(e.variableDefinitions){e.variableDefinitions.forEach(function(e){r(e,t)})}if(e.definitions){e.definitions.forEach(function(e){r(e,t)})}}var c={};(function e(){n.definitions.forEach(function(e){if(e.name){var t=new Set;r(e,t);c[e.name.value]=t}})})();function u(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t){return a}}}function o(n,e){var a={kind:n.kind,definitions:[u(n,e)]};if(n.hasOwnProperty("loc")){a.loc=n.loc}var t=c[e]||new Set;var i=new Set;var r=new Set;t.forEach(function(e){r.add(e)});while(r.size>0){var o=r;r=new Set;o.forEach(function(e){if(!i.has(e)){i.add(e);var t=c[e]||new Set;t.forEach(function(e){r.add(e)})}})}i.forEach(function(e){var t=u(n,e);if(t){a.definitions.push(t)}});return a}e.exports=n;e.exports["contributeTagContent"]=o(n,"contributeTagContent")},xIlS:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"toggleTagPublic"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WikiToggleEntryPublicStatusInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"wikiToggleEntryPublicStatus"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"entry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tag"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isPublic"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:185}};n.loc.source={body:"mutation toggleTagPublic($data: WikiToggleEntryPublicStatusInput!) {\n  wikiToggleEntryPublicStatus(data: $data) {\n    entry {\n      tag {\n        slug\n      }\n      isPublic\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e){return e.filter(function(e){if(e.kind!=="FragmentDefinition")return true;var t=e.name.value;if(a[t]){return false}else{a[t]=true;return true}})}function r(e,t){if(e.kind==="FragmentSpread"){t.add(e.name.value)}else if(e.kind==="VariableDefinition"){var n=e.type;if(n.kind==="NamedType"){t.add(n.name.value)}}if(e.selectionSet){e.selectionSet.selections.forEach(function(e){r(e,t)})}if(e.variableDefinitions){e.variableDefinitions.forEach(function(e){r(e,t)})}if(e.definitions){e.definitions.forEach(function(e){r(e,t)})}}var c={};(function e(){n.definitions.forEach(function(e){if(e.name){var t=new Set;r(e,t);c[e.name.value]=t}})})();function u(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t){return a}}}function o(n,e){var a={kind:n.kind,definitions:[u(n,e)]};if(n.hasOwnProperty("loc")){a.loc=n.loc}var t=c[e]||new Set;var i=new Set;var r=new Set;t.forEach(function(e){r.add(e)});while(r.size>0){var o=r;r=new Set;o.forEach(function(e){if(!i.has(e)){i.add(e);var t=c[e]||new Set;t.forEach(function(e){r.add(e)})}})}i.forEach(function(e){var t=u(n,e);if(t){a.definitions.push(t)}});return a}e.exports=n;e.exports["toggleTagPublic"]=o(n,"toggleTagPublic")},xzTm:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("l1C2");var i=n("Pigy");var r=function(){return Object(a["jsx"])("div",{css:{display:"flex",flex:1,alignItems:"center"}},Object(a["jsx"])(i["a"],{type:"img",size:"md",description:"该标签不存在"}))}}}]);
//# sourceMappingURL=main-company-questions~main-tag.cba42da0.js.map