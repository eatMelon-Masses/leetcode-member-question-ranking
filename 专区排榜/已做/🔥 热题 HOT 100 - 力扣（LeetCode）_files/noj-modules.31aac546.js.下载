(window["__LOADABLE_LOADED_CHUNKS__"]=window["__LOADABLE_LOADED_CHUNKS__"]||[]).push([[5],{"++M8":function(e,t){},"1ZoV":function(e,t,n){e.exports=n.p+"17df28f35bfb3292fe5bdd94b81fa456.svg"},"6CID":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"markReadAll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ActivitySubType"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markReadAll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"subType"},value:{kind:"Variable",name:{kind:"Name",value:"subType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:108}};n.loc.source={body:"mutation markReadAll($subType: ActivitySubType!) {\n  markReadAll(subType: $subType) {\n    ok\n    error\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if(e.kind!=="FragmentDefinition")return true;var t=e.name.value;if(a[t]){return false}else{a[t]=true;return true}})}function i(e,t){if(e.kind==="FragmentSpread"){t.add(e.name.value)}else if(e.kind==="VariableDefinition"){var n=e.type;if(n.kind==="NamedType"){t.add(n.name.value)}}if(e.selectionSet){e.selectionSet.selections.forEach(function(e){i(e,t)})}if(e.variableDefinitions){e.variableDefinitions.forEach(function(e){i(e,t)})}if(e.definitions){e.definitions.forEach(function(e){i(e,t)})}}var l={};(function e(){n.definitions.forEach(function(e){if(e.name){var t=new Set;i(e,t);l[e.name.value]=t}})})();function s(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t){return a}}}function o(n,e){var a={kind:n.kind,definitions:[s(n,e)]};if(n.hasOwnProperty("loc")){a.loc=n.loc}var t=l[e]||new Set;var r=new Set;var i=new Set;t.forEach(function(e){i.add(e)});while(i.size>0){var o=i;i=new Set;o.forEach(function(e){if(!r.has(e)){r.add(e);var t=l[e]||new Set;t.forEach(function(e){i.add(e)})}})}r.forEach(function(e){var t=s(n,e);if(t){a.definitions.push(t)}});return a}e.exports=n;e.exports["markReadAll"]=o(n,"markReadAll")},"7VoO":function(e,t,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"myNotifications"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numPerPage"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ActivitySubType"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"myNotificationV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pageNumber"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}},{kind:"Argument",name:{kind:"Name",value:"resultPerPage"},value:{kind:"Variable",name:{kind:"Name",value:"numPerPage"}}},{kind:"Argument",name:{kind:"Name",value:"subType"},value:{kind:"Variable",name:{kind:"Name",value:"subType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verb"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"notificationEntityNode"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"actorNums"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"obj"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"notificationEntityNode"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"notificationEntityNode"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"link"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"haveRead"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"hasMore"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:514}};a.loc.source={body:"#import '../fragments/entity-node.graphql'\n\nquery myNotifications($page: Int, $numPerPage: Int, $subType: ActivitySubType!) {\n  myNotificationV2(pageNumber: $page, resultPerPage: $numPerPage, subType: $subType) {\n    nodes {\n      uuid\n      verb\n      actors {\n        ...notificationEntityNode\n      }\n\n      actorNums\n      obj {\n        ...notificationEntityNode\n      }\n\n      target {\n        ...notificationEntityNode\n      }\n\n      link\n      haveRead\n      content\n      updatedAt\n    }\n    hasMore\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e){return e.filter(function(e){if(e.kind!=="FragmentDefinition")return true;var t=e.name.value;if(r[t]){return false}else{r[t]=true;return true}})}a.definitions=a.definitions.concat(i(n("Q6XD").definitions));function o(e,t){if(e.kind==="FragmentSpread"){t.add(e.name.value)}else if(e.kind==="VariableDefinition"){var n=e.type;if(n.kind==="NamedType"){t.add(n.name.value)}}if(e.selectionSet){e.selectionSet.selections.forEach(function(e){o(e,t)})}if(e.variableDefinitions){e.variableDefinitions.forEach(function(e){o(e,t)})}if(e.definitions){e.definitions.forEach(function(e){o(e,t)})}}var l={};(function e(){a.definitions.forEach(function(e){if(e.name){var t=new Set;o(e,t);l[e.name.value]=t}})})();function s(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t){return a}}}function u(n,e){var a={kind:n.kind,definitions:[s(n,e)]};if(n.hasOwnProperty("loc")){a.loc=n.loc}var t=l[e]||new Set;var r=new Set;var i=new Set;t.forEach(function(e){i.add(e)});while(i.size>0){var o=i;i=new Set;o.forEach(function(e){if(!r.has(e)){r.add(e);var t=l[e]||new Set;t.forEach(function(e){i.add(e)})}})}r.forEach(function(e){var t=s(n,e);if(t){a.definitions.push(t)}});return a}e.exports=a;e.exports["myNotifications"]=u(a,"myNotifications")},"8CDz":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"checkin"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"checkin"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"checkedIn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:67}};n.loc.source={body:"mutation checkin {\n  checkin {\n    checkedIn\n    ok\n    error\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if(e.kind!=="FragmentDefinition")return true;var t=e.name.value;if(a[t]){return false}else{a[t]=true;return true}})}function i(e,t){if(e.kind==="FragmentSpread"){t.add(e.name.value)}else if(e.kind==="VariableDefinition"){var n=e.type;if(n.kind==="NamedType"){t.add(n.name.value)}}if(e.selectionSet){e.selectionSet.selections.forEach(function(e){i(e,t)})}if(e.variableDefinitions){e.variableDefinitions.forEach(function(e){i(e,t)})}if(e.definitions){e.definitions.forEach(function(e){i(e,t)})}}var l={};(function e(){n.definitions.forEach(function(e){if(e.name){var t=new Set;i(e,t);l[e.name.value]=t}})})();function s(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t){return a}}}function o(n,e){var a={kind:n.kind,definitions:[s(n,e)]};if(n.hasOwnProperty("loc")){a.loc=n.loc}var t=l[e]||new Set;var r=new Set;var i=new Set;t.forEach(function(e){i.add(e)});while(i.size>0){var o=i;i=new Set;o.forEach(function(e){if(!r.has(e)){r.add(e);var t=l[e]||new Set;t.forEach(function(e){i.add(e)})}})}r.forEach(function(e){var t=s(n,e);if(t){a.definitions.push(t)}});return a}e.exports=n;e.exports["checkin"]=o(n,"checkin")},"8jAb":function(e,t,n){"use strict";var r=n("D57K");var i=n("ERkP");var o=n.n(i);var a=n("pu3o");var l=n.n(a);var s=n("5ZzG");var u=n("8d7B");var c=n("jaZD");var d=n("ildc");var m=n("4F1I");var p=n("lXyA");var f=n.n(p);var v=n("sYqU");var b=f()(function(){var e=document.createElement("div");e.classList.add("wechat-sign-in-modal-container");document.body.appendChild(e);return e});function g(){var e=v["a"].getCurrentRelativePath();var t=l.a.stringify({direct_next:e,connect_next:location.origin+"/wechat/login-connect?"+l.a.stringify({next:e})});return location.origin+"/wechat/mplogin?"+t}function h(e){var t=l.a.stringify(Object(r["__assign"])(Object(r["__assign"])({},e),{redirect_uri:e.redirect_uri,response_type:"code"}));return"https://open.weixin.qq.com/connect/oauth2/authorize?"+t+"#wechat_redirect"}function y(){return h({appid:"wx8895d677f6fa453f",redirect_uri:g(),scope:"snsapi_userinfo"})}function k(){return S("login")}function E(){var e=S("connect");return v["a"].signIn(e)}function S(e){var t=l.a.parse(location.search.substr(1)),n=t.next,a=t.lc_ticket;var r=l.a.stringify({process:e,next:n,lc_ticket:a});return"/wechat/mplogin/new?"+r}var O={weixin:"wechat"};var _={weixin:Object(d["d"])()?y():undefined};function j(e){var t=e.id,n=e.login_url;return{iconType:O[t]||t,url:""+window.location.origin+n,fastUrl:_[t]}}function N(e){if(e===void 0){e="[]"}try{return Object(r["__spread"])(JSON.parse(e),m["a"]).map(j)}catch(e){return[]}}var x=n("LJ7e");var C=n("qzvP");var w=n("6h7y");var F;var I=function(e,t){var n;var a="&[data-icon^="+e+"]";return n={},n[a]={"&:hover":{color:t}},n};var P=Object(C["a"])(Object(r["__assign"])(Object(r["__assign"])(Object(r["__assign"])(Object(r["__assign"])(Object(r["__assign"])(Object(r["__assign"])(Object(r["__assign"])(Object(r["__assign"])(Object(r["__assign"])({},I("weibo",w["weiboColor"])),I("baidu",w["baiduColor"])),I("wechat",w["wechatColor"])),I("facebook",w["facebookColor"])),I("google",w["googleColor"])),I("github",w["dark1"])),I("linkedin",w["linkedinColor"])),I("qq",w["qqColor"])),{color:w["dark6"],margin:"0 7.5px"}),"label:link;");var A=Object(C["a"])({width:"30px",height:"30px"},"label:icon;");var M=Object(x["default"])("div",{target:"e171eg6m0"})((F={},F["."+P]={margin:"0 10px"},F["."+A]={width:"24px",height:"24px"},F.display="flex",F.flexDirection="column",F.justifyContent="center",F.alignItems="center",F.margin="25px auto 0",F),"label:Container;");var T=Object(x["default"])("p",{target:"e171eg6m1"})({marginBottom:"15px",color:w["dark6"],pointerEvents:"none"},"label:Tips;");var D=n("K/af");n.d(t,"a",function(){return R});var R=Object(i["memo"])(function(e){var t=Object(r["__read"])(Object(D["a"])(u["GlobalDataModule"]),1),n=t[0].globalData;var a=Object(i["useMemo"])(function(){return function(e){if(!n){return null}var t=N(n.feature.socialProviders);var r=l.a.stringify({next:e});return o.a.createElement("div",null,t.map(function(e){var t=e.iconType,n=e.url,a=e.fastUrl;return o.a.createElement("a",{key:t,href:a||n+"?"+r,"data-icon":t,className:P},o.a.createElement(s["a"],{type:t,className:A}))}))}},[e.next,n]);return o.a.createElement(M,{isCn:true},o.a.createElement(T,null,"第三方登录"),o.a.createElement(c["a"],null,function(e){var t=e.next;return a(t)}))})},BMks:function(e,t,n){"use strict";var a=n("OOFc");if(n.o(a,"CONFIRM_PASSWORD"))n.d(t,"CONFIRM_PASSWORD",function(){return a["CONFIRM_PASSWORD"]});if(n.o(a,"EMAIL"))n.d(t,"EMAIL",function(){return a["EMAIL"]});if(n.o(a,"Form"))n.d(t,"Form",function(){return a["Form"]});if(n.o(a,"Input"))n.d(t,"Input",function(){return a["Input"]});if(n.o(a,"NEW_NICKNAME"))n.d(t,"NEW_NICKNAME",function(){return a["NEW_NICKNAME"]});if(n.o(a,"NEW_PASSWORD"))n.d(t,"NEW_PASSWORD",function(){return a["NEW_PASSWORD"]});if(n.o(a,"PASSWORD"))n.d(t,"PASSWORD",function(){return a["PASSWORD"]});if(n.o(a,"PHONE_CODE"))n.d(t,"PHONE_CODE",function(){return a["PHONE_CODE"]});if(n.o(a,"PHONE_NUMBER"))n.d(t,"PHONE_NUMBER",function(){return a["PHONE_NUMBER"]});if(n.o(a,"USERNAME"))n.d(t,"USERNAME",function(){return a["USERNAME"]})},Ctp7:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchAllLeetcodeTemplates"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allLeetcodePlaygroundTemplates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"templateId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nameSlug"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:111}};n.loc.source={body:"query fetchAllLeetcodeTemplates {\n  allLeetcodePlaygroundTemplates {\n    templateId\n    name\n    nameSlug\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if(e.kind!=="FragmentDefinition")return true;var t=e.name.value;if(a[t]){return false}else{a[t]=true;return true}})}function i(e,t){if(e.kind==="FragmentSpread"){t.add(e.name.value)}else if(e.kind==="VariableDefinition"){var n=e.type;if(n.kind==="NamedType"){t.add(n.name.value)}}if(e.selectionSet){e.selectionSet.selections.forEach(function(e){i(e,t)})}if(e.variableDefinitions){e.variableDefinitions.forEach(function(e){i(e,t)})}if(e.definitions){e.definitions.forEach(function(e){i(e,t)})}}var l={};(function e(){n.definitions.forEach(function(e){if(e.name){var t=new Set;i(e,t);l[e.name.value]=t}})})();function s(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t){return a}}}function o(n,e){var a={kind:n.kind,definitions:[s(n,e)]};if(n.hasOwnProperty("loc")){a.loc=n.loc}var t=l[e]||new Set;var r=new Set;var i=new Set;t.forEach(function(e){i.add(e)});while(i.size>0){var o=i;i=new Set;o.forEach(function(e){if(!r.has(e)){r.add(e);var t=l[e]||new Set;t.forEach(function(e){i.add(e)})}})}r.forEach(function(e){var t=s(n,e);if(t){a.definitions.push(t)}});return a}e.exports=n;e.exports["fetchAllLeetcodeTemplates"]=o(n,"fetchAllLeetcodeTemplates")},GE63:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"unreadNotificationNumber"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"fromSite"},name:{kind:"Name",value:"myUnreadNotificationNum"},arguments:[{kind:"Argument",name:{kind:"Name",value:"subType"},value:{kind:"EnumValue",value:"NOTIFICATION_FROM_SITE"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"aboutMe"},name:{kind:"Name",value:"myUnreadNotificationNum"},arguments:[{kind:"Argument",name:{kind:"Name",value:"subType"},value:{kind:"EnumValue",value:"NOTIFICATION_ABOUT_ME"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"followInfo"},name:{kind:"Name",value:"myUnreadNotificationNum"},arguments:[{kind:"Argument",name:{kind:"Name",value:"subType"},value:{kind:"EnumValue",value:"NOTIFICATION_FOLLOW_INFO"}}],directives:[]}]}}],loc:{start:0,end:245}};n.loc.source={body:"query unreadNotificationNumber {\n  fromSite: myUnreadNotificationNum(subType: NOTIFICATION_FROM_SITE )\n  aboutMe: myUnreadNotificationNum(subType: NOTIFICATION_ABOUT_ME)\n  followInfo: myUnreadNotificationNum(subType: NOTIFICATION_FOLLOW_INFO)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if(e.kind!=="FragmentDefinition")return true;var t=e.name.value;if(a[t]){return false}else{a[t]=true;return true}})}function i(e,t){if(e.kind==="FragmentSpread"){t.add(e.name.value)}else if(e.kind==="VariableDefinition"){var n=e.type;if(n.kind==="NamedType"){t.add(n.name.value)}}if(e.selectionSet){e.selectionSet.selections.forEach(function(e){i(e,t)})}if(e.variableDefinitions){e.variableDefinitions.forEach(function(e){i(e,t)})}if(e.definitions){e.definitions.forEach(function(e){i(e,t)})}}var l={};(function e(){n.definitions.forEach(function(e){if(e.name){var t=new Set;i(e,t);l[e.name.value]=t}})})();function s(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t){return a}}}function o(n,e){var a={kind:n.kind,definitions:[s(n,e)]};if(n.hasOwnProperty("loc")){a.loc=n.loc}var t=l[e]||new Set;var r=new Set;var i=new Set;t.forEach(function(e){i.add(e)});while(i.size>0){var o=i;i=new Set;o.forEach(function(e){if(!r.has(e)){r.add(e);var t=l[e]||new Set;t.forEach(function(e){i.add(e)})}})}r.forEach(function(e){var t=s(n,e);if(t){a.definitions.push(t)}});return a}e.exports=n;e.exports["unreadNotificationNumber"]=o(n,"unreadNotificationNumber")},Gn6q:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"premiumCreatedAndExpiredTime"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"premiumExpiredAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"premiumCreatedAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:99}};n.loc.source={body:"query premiumCreatedAndExpiredTime {\n  userStatus {\n    premiumExpiredAt\n    premiumCreatedAt\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if(e.kind!=="FragmentDefinition")return true;var t=e.name.value;if(a[t]){return false}else{a[t]=true;return true}})}function i(e,t){if(e.kind==="FragmentSpread"){t.add(e.name.value)}else if(e.kind==="VariableDefinition"){var n=e.type;if(n.kind==="NamedType"){t.add(n.name.value)}}if(e.selectionSet){e.selectionSet.selections.forEach(function(e){i(e,t)})}if(e.variableDefinitions){e.variableDefinitions.forEach(function(e){i(e,t)})}if(e.definitions){e.definitions.forEach(function(e){i(e,t)})}}var l={};(function e(){n.definitions.forEach(function(e){if(e.name){var t=new Set;i(e,t);l[e.name.value]=t}})})();function s(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t){return a}}}function o(n,e){var a={kind:n.kind,definitions:[s(n,e)]};if(n.hasOwnProperty("loc")){a.loc=n.loc}var t=l[e]||new Set;var r=new Set;var i=new Set;t.forEach(function(e){i.add(e)});while(i.size>0){var o=i;i=new Set;o.forEach(function(e){if(!r.has(e)){r.add(e);var t=l[e]||new Set;t.forEach(function(e){i.add(e)})}})}r.forEach(function(e){var t=s(n,e);if(t){a.definitions.push(t)}});return a}e.exports=n;e.exports["premiumCreatedAndExpiredTime"]=o(n,"premiumCreatedAndExpiredTime")},HjlZ:function(e,t,n){"use strict";var a=n("D57K");var r=n("Jf4p");function i(e,t){return e?null:t}var o=function(){function e(e){if(e===void 0){e={}}this.config=e;this.currentContent=""}e.prototype.validate=function(e,t,n){this.currentContent=t;this.currentFormValue=n;if(this[e]){return this[e]()}else{return null}};e.prototype.noEmpty=function(){return i(this.currentContent.length>0,this.config.noEmptyErrorMessage||"此项为必填项")};e.prototype.minLength=function(e){if(e===void 0){e=-1}if(e>0){return i(this.currentContent.length>=e,this.config.minLengthErrorMessage||"长度需不小于 "+e+" 位")}else{return null}};e.prototype.minUtf8Bytes=function(e){if(e===void 0){e=-1}if(e>0){return i(Object(r["b"])(this.currentContent)>=e,this.config.minUtf8BytesErrorMessage||"内容过短")}else{return null}};e.prototype.maxUtf8Bytes=function(e){if(e===void 0){e=-1}if(e>0){return i(Object(r["b"])(this.currentContent)<=e,this.config.maxUtf8BytesErrorMessage||"内容过长")}else{return null}};return e}();var l=function(e){Object(a["__extends"])(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.onBlur=function(){return null};t.prototype.onSubmit=function(){return this.noEmpty()};t.prototype.onChange=function(){return null};return t}(o);var s=l;var u=function(e){Object(a["__extends"])(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.isValidFormat=function(){var e=/^[\dA-z_]*$/g.test(this.currentContent);return i(e,this.config.invalidFormatErrorMessage||"The username must contain only letters, numbers, "+"hyphens and underscores.")};t.prototype.onBlur=function(){return this.currentContent?this.onSubmit():null};t.prototype.onSubmit=function(){return this.noEmpty()||this.maxUtf8Bytes(this.config.maxUtf8Bytes)||this.minUtf8Bytes(this.config.minUtf8Bytes)||this.isValidFormat()};t.prototype.onChange=function(){return null};return t}(o);var c=u;var d=function(e){Object(a["__extends"])(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.isValidFormat=function(){var e=!/\s{2}/.test(this.currentContent);return i(e,"昵称不合法")};t.prototype.onBlur=function(){return this.currentContent?this.onSubmit():null};t.prototype.onSubmit=function(){return this.noEmpty()||this.maxUtf8Bytes(this.config.maxUtf8Bytes)||this.minUtf8Bytes(this.config.minUtf8Bytes)||this.isValidFormat()};t.prototype.onChange=function(){return null};return t}(o);var m=d;var p=function(e){Object(a["__extends"])(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.isValidFormat=function(){var e=/^[\x20-\x7E]{8,}$/g.test(this.currentContent);var t=/[a-z]+/i.test(this.currentContent)&&/\d+/i.test(this.currentContent);return i(e&&t,"密码须为不小于8位的数字及字母组合")};t.prototype.onBlur=function(){return this.currentContent?this.onSubmit():null};t.prototype.onSubmit=function(){return this.noEmpty()||this.isValidFormat()};t.prototype.onChange=function(){return null};return t}(o);var f=p;var v=function(e){Object(a["__extends"])(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.onBlur=function(){return this.currentContent?this.onSubmit():null};t.prototype.onSubmit=function(){return this.noEmpty()||this.isSamePassword()};t.prototype.onChange=function(){return null};t.prototype.isSamePassword=function(){if(this.currentFormValue){var e=this.currentFormValue[this.config.passwordFieldName];return i(this.currentContent===e,this.config.notEqualErrorMessage||"The passwords you entered do not match.")}else{return null}};return t}(o);var b=v;var g=n("3PBV");var h=n.n(g);var y=function(e){Object(a["__extends"])(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.isValidFormat=function(){var e=this.currentContent;var t=!h()({content:e},{content:{email:true}});return i(t,this.config.invalidErrorMessage||"Invalid email address")};t.prototype.onBlur=function(){if(!this.currentContent)return null;return this.isValidFormat()};t.prototype.onSubmit=function(){return this.noEmpty()||this.isValidFormat()};t.prototype.onChange=function(){return null};return t}(o);var k=y;var E=function(e){Object(a["__extends"])(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.isValidFormat=function(){var e=!!Number(this.currentContent)&&this.currentContent.length===11;return i(e,this.config.invalidFormatErrorMessage||"错误的手机号码")};t.prototype.onBlur=function(){return this.currentContent?this.onSubmit():null};t.prototype.onSubmit=function(){return this.isValidFormat()};t.prototype.onChange=function(){return null};t.prototype.onSendCode=function(){return this.onSubmit()};return t}(o);var S=E;n.d(t,"h",function(){return _});n.d(t,"c",function(){return N});n.d(t,"e",function(){return x});n.d(t,"d",function(){return C});n.d(t,"a",function(){return w});n.d(t,"b",function(){return F});n.d(t,"g",function(){return I});n.d(t,"f",function(){return P});var O={spellCheck:false,autoCorrect:"off",autoCapitalize:"off"};var _=Object(a["__assign"])(Object(a["__assign"])({},O),{name:"login",autoComplete:"username",validation:new s({get noEmptyErrorMessage(){return"请输入手机号或邮箱"}})});var j=Object(a["__assign"])(Object(a["__assign"])({},O),{name:"username",autoComplete:"username",maxUtf8Bytes:30,validation:new c({minUtf8Bytes:3,get invalidFormatErrorMessage(){return"用户名只能包含字母，数字，下划线或者连词符"}})});var N=Object(a["__assign"])(Object(a["__assign"])({},j),{name:"nickname",autoComplete:"nickname",maxUtf8Bytes:30,validation:new m({minUtf8Bytes:3,get minLengthErrorMessage(){return"昵称过短"},get noEmptyErrorMessage(){return"请输入昵称"}})});var x=Object(a["__assign"])(Object(a["__assign"])({},O),{type:"password",name:"password",autoComplete:"password",validation:new s({get noEmptyErrorMessage(){return"请输入密码"}})});var C=Object(a["__assign"])(Object(a["__assign"])({},O),{type:"password",name:"password1",autoComplete:"new-password",validation:new f({get noEmptyErrorMessage(){return"请输入密码"}})});var w=Object(a["__assign"])(Object(a["__assign"])({},C),{name:"password2",validation:new b({passwordFieldName:C.name,get noEmptyErrorMessage(){return"请再次输入密码"},get notEqualErrorMessage(){return"两次输入的密码不一致"}})});var F=Object(a["__assign"])(Object(a["__assign"])({},O),{type:"email",name:"email",autoComplete:"username email",validation:new k({get noEmptyErrorMessage(){return"请输入邮箱"},get invalidErrorMessage(){return"请输入正确的邮箱"}})});var I=Object(a["__assign"])(Object(a["__assign"])({},O),{name:"phone",autoComplete:"username tel-national",validation:new S({get noEmptyErrorMessage(){return"请输入手机号"},get invalidFormatErrorMessage(){return"请输入正确的手机号"}})});var P=Object(a["__assign"])(Object(a["__assign"])({},O),{name:"phone_code",autoComplete:"off",validation:new s({get noEmptyErrorMessage(){return"请输入短信验证码"}})})},OOFc:function(e,t,n){"use strict";var a=n("++M8");var r=n.n(a);if(n.o(a,"CONFIRM_PASSWORD"))n.d(t,"CONFIRM_PASSWORD",function(){return a["CONFIRM_PASSWORD"]});if(n.o(a,"EMAIL"))n.d(t,"EMAIL",function(){return a["EMAIL"]});if(n.o(a,"Input"))n.d(t,"Input",function(){return a["Input"]});if(n.o(a,"NEW_NICKNAME"))n.d(t,"NEW_NICKNAME",function(){return a["NEW_NICKNAME"]});if(n.o(a,"NEW_PASSWORD"))n.d(t,"NEW_PASSWORD",function(){return a["NEW_PASSWORD"]});if(n.o(a,"PASSWORD"))n.d(t,"PASSWORD",function(){return a["PASSWORD"]});if(n.o(a,"PHONE_CODE"))n.d(t,"PHONE_CODE",function(){return a["PHONE_CODE"]});if(n.o(a,"PHONE_NUMBER"))n.d(t,"PHONE_NUMBER",function(){return a["PHONE_NUMBER"]});if(n.o(a,"USERNAME"))n.d(t,"USERNAME",function(){return a["USERNAME"]});var i=n("HjlZ");n.d(t,"CONFIRM_PASSWORD",function(){return i["a"]});n.d(t,"EMAIL",function(){return i["b"]});n.d(t,"NEW_NICKNAME",function(){return i["c"]});n.d(t,"NEW_PASSWORD",function(){return i["d"]});n.d(t,"PASSWORD",function(){return i["e"]});n.d(t,"PHONE_CODE",function(){return i["f"]});n.d(t,"PHONE_NUMBER",function(){return i["g"]});n.d(t,"USERNAME",function(){return i["h"]});var o=n("V5/1");n.d(t,"Input",function(){return o["a"]});var l=n("RANX");n.d(t,"Form",function(){return l["a"]})},Q6XD:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"notificationEntityNode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EntityNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"realName"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"QuestionNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionFrontendId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translatedTitle"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FeedArticleNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"article"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"realName"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"articleQuestion"},name:{kind:"Name",value:"question"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionFrontendId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translatedTitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"qaQuestion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"realName"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FeedSubmissionNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lang"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"submitTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"question"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionFrontendId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translatedTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleSlug"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"JobsCompanyNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nameSlug"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProblemCommentNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"question"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionFrontendId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translatedTitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FeedArticleCommentNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"article"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"realName"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"articleQuestion"},name:{kind:"Name",value:"question"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionFrontendId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translatedTitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"qaQuestion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"realName"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityTopicNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:1618}};n.loc.source={body:"fragment notificationEntityNode on EntityNode {\n  ... on UserNode {\n    username\n    profile {\n      userSlug\n\t    realName\n    }\n  }\n\n  ... on QuestionNode {\n    questionFrontendId\n    title\n    titleSlug\n    translatedTitle\n  }\n\n  ... on FeedArticleNode {\n    article {\n      uuid\n      title\n      slug\n      author {\n        username\n        profile {\n          userSlug\n          realName\n        }\n      }\n    }\n    articleQuestion: question {\n      questionFrontendId\n      title\n      titleSlug\n      translatedTitle\n    }\n    qaQuestion {\n      uuid\n      title\n      author {\n        username\n        profile {\n          userSlug\n          realName\n        }\n      } \n    }\n  }\n\n  ... on FeedSubmissionNode {\n    status\n    lang\n    submitTime\n    question {\n      questionFrontendId\n      title\n      translatedTitle\n      titleSlug\n    }\n  }\n\n  ... on JobsCompanyNode {\n    name\n    nameSlug\n  }\n\n  ... on ProblemCommentNode {\n    question {\n      questionFrontendId\n      title\n      titleSlug \n      translatedTitle\n    }\n    comment {\n      id\n    }\n  }\n\n  ... on FeedArticleCommentNode {\n    article {\n      uuid\n      title\n      slug\n      author {\n        username\n        profile {\n          userSlug\n          realName\n        }\n      }\n    }\n    articleQuestion: question {\n      questionFrontendId\n      title\n      titleSlug\n      translatedTitle\n    } \n    comment {\n      id\n    }\n\n    qaQuestion {\n      uuid\n      title\n      author {\n        username\n        profile {\n          userSlug\n          realName\n        }\n      }\n    }\n  }\n\n  ... on CommunityTopicNode {\n    id\n    title\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if(e.kind!=="FragmentDefinition")return true;var t=e.name.value;if(a[t]){return false}else{a[t]=true;return true}})}e.exports=n},RANX:function(e,t,n){"use strict";var l=n("D57K");var r=n("5Nzd");var a=n("ERkP");var i=n.n(a);var o=n("fQLH");var s=n("LR82");var u=n("pN2L");var c=n("d9YI");var d=n("iJR/");var m=n("vKrG");var p=n("U3QC");var f=n("AouM");var v=n("Jg5f");var b=n("rzNM");var g=n("IMYO");var h=n("G2Mx");var y=n("nBd1");var k=n("5CFZ");var E=n("l8fx");var S=n("RuI9");var O=n("yMer");var _=n("LJ7e");var j=n("z45D");var N=Object(_["default"])("form",{target:"ej1amgz0"})({display:"flex",flexDirection:"column",alignItems:"stretch"},"label:StyledForm;");var x=Object(_["default"])("p",{target:"ej1amgz1"})(Object(l["__assign"])(Object(l["__assign"])({},j["a"]),{textAlign:"center"}),"label:ErrorMessagePara;");var C=function(e){Object(l["__extends"])(t,e);function t(){var a=e!==null&&e.apply(this,arguments)||this;a.state={errorMessage:""};a.rxAxios=r["b"].getInstance(E["a"]);a.action$=new o["a"];a.submit$=new o["a"];a.subscription=new s["a"];a.fields={};a.onSubmit$=a.submit$.pipe(Object(p["a"])(function(){a.clearErrorMessage()}),Object(f["a"])(function(e){var t=e.url,n=e.extraFormValue;return a.validateInputs("onSubmit").then(function(e){return{url:t,formValue:Object(l["__assign"])(Object(l["__assign"])({},e),n)}})}),Object(v["a"])(function(e){var t=e.url,n=e.formValue;return{url:t,options:{data:Object(O["a"])(n),headers:{"X-Requested-With":"XMLHttpRequest"}}}}),Object(b["a"])(function(e){var t=e.url,n=e.options;a.beforeSubmit();return a.rxAxios.post(t,n).pipe(Object(g["a"])(function(e){if(e.response&&e.response.data){return Object(u["a"])(e.response.data)}else{var t=e instanceof Error?e.message:String(e);a.onError(t);return c["a"]}}))}));a.onSubmit=function(e){if(typeof a.props.onSubmit==="function"){a.props.onSubmit(e)}};a.onFieldMount=function(e,t){a.fields[e]=t};a.onFieldUnMount=function(e){delete a.fields[e]};a.onTriggerAction=function(e){if(e.type==="onKeyDown"){a.onFieldKeyDown(e.value.event)}};return a}Object.defineProperty(t.prototype,"formProviderValue",{get:function(){return{action$:this.action$,onFieldMount:this.onFieldMount,onFieldUnMount:this.onFieldUnMount}},enumerable:true,configurable:true});t.prototype.componentDidMount=function(){this.subscription.add(this.onSubmit$.subscribe(this.onSubmit));this.subscription.add(this.action$.subscribe(this.onTriggerAction))};t.prototype.componentWillUnmount=function(){this.submit$.complete();this.action$.complete();this.subscription.unsubscribe()};t.prototype.getFormValues=function(){var e=new o["a"];var t=Object.keys(this.fields);var n=e.pipe(Object(h["a"])(t.length),Object(y["a"])(function(e,t){return Object(l["__assign"])(Object(l["__assign"])({},e),t)})).toPromise();var a={type:"getFormValue",value:{addValue$:e}};this.action$.next(a);return n};t.prototype.validateInputs=function(o){return Object(l["__awaiter"])(this,void 0,Promise,function(){var r,t,n;var i=this;return Object(l["__generator"])(this,function(e){switch(e.label){case 0:return[4,this.getFormValues()];case 1:r=e.sent();t=Object(d["a"])(Object.keys(this.fields)).pipe(Object(v["a"])(function(e){var t=i.fields[e];var n=r[e];var a=t.validate(o,n,r);return{errorMessage:a,formValue:r,field:{name:e,validation:t}}}));t.subscribe(function(e){var t=e.field,n=e.errorMessage;i.showError(t.name,n)});n=t.pipe(Object(k["a"])(function(e){var t=e.errorMessage;return t===null}),Object(f["a"])(function(e){return e?Object(u["a"])(r):m["a"]}));return[2,n.toPromise()]}})})};t.prototype.submit=function(e){this.submit$.next(e)};t.prototype.showError=function(e,t){var n={type:"showError",value:{inputName:e,errorMessage:t}};this.action$.next(n)};t.prototype.render=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(S["b"],{value:this.formProviderValue},i.a.createElement(N,null,this.props.children)),this.state.errorMessage&&i.a.createElement(x,null,this.state.errorMessage))};t.prototype.clearErrorMessage=function(){this.setState({errorMessage:""})};t.prototype.onError=function(e){if(typeof this.props.onError==="function"){this.props.onError(e)}this.setState({errorMessage:e})};t.prototype.beforeSubmit=function(){if(typeof this.props.beforeSubmit==="function"){this.props.beforeSubmit()}};t.prototype.onFieldKeyDown=function(e){if(e.key==="Enter"&&this.props.onKeyDownEnter){this.props.onKeyDownEnter()}};return t}(i.a.PureComponent);var w=t["a"]=C},RuI9:function(e,t,n){"use strict";n.d(t,"b",function(){return s});n.d(t,"a",function(){return u});var a=n("ERkP");var r=n.n(a);var i=n("fQLH");var o={action$:new i["a"],onFieldMount:function(){},onFieldUnMount:function(){}};var l=r.a.createContext(o),s=l.Provider,u=l.Consumer},ULPy:function(e,t,n){e.exports=n.p+"f2ece5fe978d056f5a425ad3387216ee.svg"},UqMZ:function(e,t,n){"use strict";var s=n("D57K");var a=n("ERkP");var u=n.n(a);var r=n("7nmT");var o=n.n(r);var l=n("YnR9");var c=n("sYqU");var d=n("fgzu");var m=n("nPqx");var i=n("ildc");var p=n("jaZD");var f=n("v31z");var v=n("BMks");var b=n("8jAb");var g;(function(e){e[e["SignIn"]=0]="SignIn";e[e["SignUpByEmail"]=1]="SignUpByEmail";e[e["SignUpByMobileInStep1"]=2]="SignUpByMobileInStep1";e[e["SignUpByMobileInStep2"]=3]="SignUpByMobileInStep2"})(g||(g={}));var h={currentStep:g.SignIn,goStep:function(){return function(){}},isCurrentStep:function(e){return e===this.currentStep}};var y=u.a.createContext(h),k=y.Provider,E=y.Consumer;var S=n("LJ7e");var O=n("6h7y");var _=Object(S["default"])("p",{target:"e1xais5y0"})({color:O["redA4"],fontSize:"12px",lineHeight:"18px",margin:"-10px 0 20px 0"},"label:ErrorMessagePara;");var j=Object(S["default"])("div",{target:"e1xais5y1"})({display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"20px",color:O["dark6"],"a, span":{color:O["dblue6"],fontSize:"14px",lineHeight:"20px",cursor:"pointer"}},"label:Actions;");var N=function(e){Object(s["__extends"])(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.state={error:"",isSubmitting:false};t.formRef=u.a.createRef();t.onClickSignIn=function(){t.updateSubmitError();t.submit()};t.onSubmit=function(e){if(e.location){window.location.href=e.location}else{t.afterSubmit(e)}};t.beforeSubmit=function(){t.setState({isSubmitting:true})};t.afterSubmit=function(e){t.setState({isSubmitting:false});if(e.form){t.updateSubmitError(e.form.errors[0])}};return t}t.prototype.render=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(v["Form"],{ref:this.formRef,beforeSubmit:this.beforeSubmit,onSubmit:this.onSubmit,onKeyDownEnter:this.onClickSignIn},u.a.createElement(v["Input"],Object(s["__assign"])({},v["USERNAME"],{placeholder:"手机或邮箱"})),u.a.createElement(v["Input"],Object(s["__assign"])({},v["PASSWORD"],{placeholder:"密码"}))),this.renderCommonError(),u.a.createElement(f["a"],{type:"primary",onClick:this.onClickSignIn,disabled:this.state.isSubmitting},"登录"),u.a.createElement(j,null,u.a.createElement("a",{href:window.location.origin+"/accounts/password/reset/"},"忘记密码?"),u.a.createElement(E,null,function(e){var t=e.goStep;return u.a.createElement("span",{onClick:t(g.SignUpByMobileInStep1)},"注册")})),u.a.createElement(b["a"],null))};t.prototype.submit=function(){if(!this.state.isSubmitting&&this.formRef.current){this.formRef.current.submit({url:"/accounts/login/",extraFormValue:{next:this.props.next||"/"}})}};t.prototype.updateSubmitError=function(e){if(e===void 0){e=""}this.setState({error:e})};t.prototype.renderCommonError=function(){return this.state.error&&u.a.createElement(_,null,this.state.error)};return t}(u.a.PureComponent);var x=Object(p["c"])(N);var C=Object(S["default"])("div",{target:"e8vvyph0"})({display:"flex",marginBottom:"25px",'&[data-is-hide="true"]':{display:"none"}},"label:Switch;");var w=Object(S["default"])("span",{target:"e8vvyph1"})({flex:1,color:O["dark6"],fontSize:"14px",lineHeight:"40px",textAlign:"center",borderBottom:"1px solid",cursor:"pointer",'&[data-is-selected="true"]':{color:O["dblue9"]}},"label:Item;");var F=function(){return u.a.createElement(E,null,function(e){var t=e.goStep,n=e.isCurrentStep;return u.a.createElement(C,{"data-is-hide":n(g.SignUpByMobileInStep2)},u.a.createElement(w,{"data-is-selected":n(g.SignUpByMobileInStep1),onClick:t(g.SignUpByMobileInStep1)},"手机注册"),u.a.createElement(w,{"data-is-selected":n(g.SignUpByEmail),onClick:t(g.SignUpByEmail)},"邮箱注册"))})};var I=n("9EA8");var P=Object(S["default"])("div",{target:"e1mxe3ox0"})({fontSize:"12px",lineHeight:"45px",textAlign:"center",borderTop:"1px solid "+O["dark8"],marginTop:"20px",color:O["dark4"],a:{color:O["dblue6"]}},"label:Agreement;");var A=function(){return u.a.createElement(P,null,"点击 “注册”，即代表您同意",u.a.createElement("a",{href:"/terms/"},"《力扣服务协议》"))};var M=n("prCu");var T=n.n(M);var D=function(e){return"/after-sign-in/?"+T.a.stringify({next:e})};var R=Object(S["default"])("div",{target:"eovg5uq0"})({textAlign:"center",marginTop:"20px",color:O["dark6"],span:{color:O["dblue6"],fontSize:"14px",lineHeight:"20px",cursor:"pointer",marginLeft:"0.5em"}},"label:GoSignIn;");var U=function(e){Object(s["__extends"])(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.state={isSubmitting:false};t.formRef=u.a.createRef();t.onSubmit=function(e){if(e.location){t.savePasswordToBrowser().then(function(){window.location.href=D(e.location)})}else{t.afterSubmit(e)}};t.beforeSubmit=function(){t.setState({isSubmitting:true})};t.afterSubmit=function(e){t.setState({isSubmitting:false});t.showSubmitErrors(e)};t.onClickSignUp=function(){if(!t.state.isSubmitting&&t.formRef.current){t.formRef.current.submit({url:"/accounts/signup/",extraFormValue:{phone_email_select:"email",next:t.props.next||"/",username:"placeholder"}})}};t.onConfirmPasswordFieldBlur=function(){if(t.formRef.current){t.formRef.current.validateInputs("onBlur")}};return t}t.prototype.render=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(v["Form"],{ref:this.formRef,beforeSubmit:this.beforeSubmit,onSubmit:this.onSubmit,onKeyDownEnter:this.onClickSignUp},u.a.createElement(v["Input"],Object(s["__assign"])({},v["EMAIL"],{placeholder:"邮箱"})),u.a.createElement(v["Input"],Object(s["__assign"])({},v["NEW_NICKNAME"],{placeholder:"昵称"})),u.a.createElement(v["Input"],Object(s["__assign"])({},v["NEW_PASSWORD"],{placeholder:"密码"})),u.a.createElement(v["Input"],Object(s["__assign"])({},v["CONFIRM_PASSWORD"],{onBlur:this.onConfirmPasswordFieldBlur,placeholder:"再次确认密码"}))),u.a.createElement(f["a"],{type:"primary",onClick:this.onClickSignUp,disabled:this.state.isSubmitting},"注册"),u.a.createElement(E,null,function(e){var t=e.goStep;return u.a.createElement(R,null,"已有账号? ",u.a.createElement("span",{onClick:t(g.SignIn)},"登录"))}),u.a.createElement(b["a"],null),u.a.createElement(A,null))};t.prototype.savePasswordToBrowser=function(){return Object(s["__awaiter"])(this,void 0,Promise,function(){return Object(s["__generator"])(this,function(e){switch(e.label){case 0:if(!this.formRef.current)return[3,2];return[4,this.formRef.current.getFormValues().then(function(e){return{id:e[v["EMAIL"].name],password:e[v["NEW_PASSWORD"].name]}}).then(I["a"])];case 1:e.sent();e.label=2;case 2:return[2]}})})};t.prototype.showSubmitErrors=function(e){var n=this;var a=e.form.fields;Object.keys(a).forEach(function(e){var t=a[e].errors[0];if(t&&n.formRef.current){n.formRef.current.showError(e,t)}})};return t}(u.a.PureComponent);var L=Object(p["c"])(U);var q=n("LR82");var B=n("fQLH");var W=n("JpoA");var V=n("iJR/");var z=n("vKrG");var Q=n("AouM");var H=n("U3QC");var $=n("rzNM");var G=n("z5yO");var K=n("12aA");var J=n("IMYO");var Z=n("Jg5f");var Y=n("G0kv");var X=n("uZih");var ee=n.n(X);var te=n("lXyA");var ne=n.n(te);var ae=ne()(function e(){return new Promise(function(e,t){var n=document.createElement("script");n.type="text/javascript";n.src="//g.alicdn.com/sd/ncpc/nc.js?t="+Date.now();n.onload=function(){e(window.noCaptcha)};n.onerror=t;document.head.appendChild(n)})});var re=n("l1C2");var ie=Object(S["default"])("div",{target:"ehw7c8b0"})({borderRadius:"3px",overflow:"hidden","> div":{height:"100%"}},"label:Container;");var oe=Object(re["css"])({"body div .nc_wrapper":{boxSizing:"border-box",height:"100%",padding:"1px",background:O["dark8"],".nc_scale":{height:"100%",background:"transparent",".nc_bg":{width:0,borderRadius:"3px",background:"linear-gradient(to left, #4db6ac, #80cbc4)",zIndex:2,boxShadow:"3px 0 0 0 #4db6ac"},".nc_iconfont":{height:"100%",width:"50px",borderRadius:"3px",display:"flex",alignItems:"center",justifyContent:"center",border:"none"},".scale_text":{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",'.nc-lang-cnt, .nc-lang-cnt[data-nc-lang="_startTEXT"]':{color:O["dark5"],background:"transparent",webkitTextFillColor:"initial"}}}}},"label:globalStyle;");var le=function(t){Object(s["__extends"])(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.elementId=""+Date.now();e.noCaptcha=null;return e}Object.defineProperty(e.prototype,"options",{get:function(){var t=this;var n=Object(i["b"])()?"nc_message_h5":"message";return{renderTo:"#"+this.elementId,appkey:"FFFF000000000179BB25",scene:n,customWidth:"100%",token:"FFFF000000000179BB25"+":"+Date.now()+":"+Math.random(),callback:function(e){t.props.onSuccess(Object(s["__assign"])(Object(s["__assign"])({},e),{scene:n}))}}},enumerable:true,configurable:true});e.prototype.componentDidMount=function(){var t=this;e.prepare().then(function(e){t.noCaptcha=e(t.options)})};e.prototype.componentWillUnmount=function(){if(this.noCaptcha){this.noCaptcha.destroy()}};e.prototype.render=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(re["Global"],{styles:oe}),u.a.createElement(ie,{id:this.elementId}))};e.prepare=ae;return e}(u.a.PureComponent);var se=n("0cIN");var ue=n("G2Mx");function ce(t){return Object(se["a"])(0,1e3).pipe(Object(ue["a"])(t+1),Object(Z["a"])(function(e){return t-e}),Object(Z["a"])(function(e){return e>0?e:null}))}var de=n("H5qd");var me=n.n(de);var pe=n("5Nzd");var fe=n("Y7lc");var ve=me()(ge||(ge=Object(s["__makeTemplateObject"])(["\n  mutation sendVerificationSms($smsInput: SendVerificationInput!) {\n    sendVerificationSms(smsInput: $smsInput) {\n      ok\n      error\n    }\n  }\n"],["\n  mutation sendVerificationSms($smsInput: SendVerificationInput!) {\n    sendVerificationSms(smsInput: $smsInput) {\n      ok\n      error\n    }\n  }\n"])));function be(e){return pe["b"].getInstanceByToken(fe["d"].provide)({mutation:ve,variables:{smsInput:e}}).pipe(Object(Z["a"])(function(e){var t=e.data,n=e.errors;if(t){return t.sendVerificationSms}else{throw JSON.stringify(n)}}))}var ge;var he=n("qzvP");var ye="40px";var ke=Object(S["default"])("div",{target:"ebyc9fs0"})({position:"relative",width:"100%"},"label:Container;");var Ee=Object(he["a"])({width:"100%",input:{height:ye,boxSizing:"border-box",paddingRight:"50%"}},"label:input;");var Se=Object(S["default"])("span",{target:"ebyc9fs1"})(function(e){var t=e.isDisabled;return t?{pointerEvents:"none",opacity:.6}:null},{position:"absolute",top:0,right:"13px",fontSize:"14px",lineHeight:ye,cursor:"pointer",maxWidth:"50%",color:O["dblue6"],opacity:.9,transition:"opacity 0.3s","&:hover":{opacity:1}},"label:Action;");var Oe=Object(S["default"])("div",{target:"ebyc9fs2"})({position:"absolute",top:0,left:0,right:0,bottom:0,"> div":{width:"100%",height:ye,background:"white"}},"label:AliSlideAuthContainer;");var _e=60;var je=function(e){Object(s["__extends"])(t,e);function t(){var a=e!==null&&e.apply(this,arguments)||this;a.state={sentCount:0,countdown:null,isShowAliSlideAuth:false};a.aliSlideAuthSuccess$=new B["a"];a.subscription=new q["a"];a.sendCode=function(){var e=new B["a"];var t=e.pipe(Object(G["a"])(function(){return!a.isActionDisabled}),Object(Q["a"])(a.props.getPhoneNumber),Object(H["a"])(function(){a.setState({isShowAliSlideAuth:true})}));var n=Object(Y["a"])(t,a.aliSlideAuthSuccess$).pipe(Object(Q["a"])(function(e){var t=Object(s["__read"])(e,2),n=t[0],a=t[1];return be({phoneNum:n,templateId:"SMS_119915003",sig:a.sig,token:a.token,scene:a.scene,csessionid:a.csessionid})}),Object(H["a"])(function(e){var t=e.error;a.props.onSendCodeError(t);a.setState({isShowAliSlideAuth:false})}),Object(G["a"])(function(e){var t=e.ok;return t}),Object(H["a"])(function(){a.setState(function(e){var t=e.sentCount;return{sentCount:t+1}})}),Object(Q["a"])(function(){return ce(_e)}),Object(H["a"])(function(e){a.setState({countdown:e})}),Object(J["a"])(function(e){var t=e instanceof Error?e.message:String(e);a.props.onSendCodeError(t);a.setState({isShowAliSlideAuth:false});return Object(W["a"])(e)}));a.subscription.add(n.subscribe());return function(){e.next()}}();a.onAliSlideAuthSuccess=function(e){a.aliSlideAuthSuccess$.next(e)};return a}Object.defineProperty(t.prototype,"inputProps",{get:function(){return ee()(this.props,"getPhoneNumber","onSendCodeError")},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"actionName",{get:function(){var e=this.state.sentCount>0?"重新发送验证码":"获取短信验证码";return this.state.countdown===null?e:this.state.countdown+" 秒"},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"isActionDisabled",{get:function(){return this.state.countdown!==null},enumerable:true,configurable:true});t.prototype.componentDidMount=function(){le.prepare()};t.prototype.componentWillUnmount=function(){this.subscription.unsubscribe();this.aliSlideAuthSuccess$.complete()};t.prototype.render=function(){return u.a.createElement(ke,null,u.a.createElement(v["Input"],Object(s["__assign"])({className:Ee},this.inputProps)),this.renderAction(),this.renderAliSlideAuth())};t.prototype.renderAction=function(){return u.a.createElement(Se,{onClick:this.sendCode,isDisabled:this.isActionDisabled},this.actionName)};t.prototype.renderAliSlideAuth=function(){return this.state.isShowAliSlideAuth&&u.a.createElement(Oe,null,u.a.createElement(le,{onSuccess:this.onAliSlideAuthSuccess}))};return t}(u.a.PureComponent);var Ne=je;var xe=me()(we||(we=Object(s["__makeTemplateObject"])(["\n  mutation validatePhoneCode($phoneNum: String!, $phoneCode: String!) {\n    validatePhoneCode(phoneNum: $phoneNum, phoneCode: $phoneCode) {\n      ok\n      error\n    }\n  }\n"],["\n  mutation validatePhoneCode($phoneNum: String!, $phoneCode: String!) {\n    validatePhoneCode(phoneNum: $phoneNum, phoneCode: $phoneCode) {\n      ok\n      error\n    }\n  }\n"])));function Ce(e){return pe["b"].getInstanceByToken(fe["d"].provide)({mutation:xe,variables:e}).pipe(Object(Z["a"])(function(e){var t=e.data,n=e.errors;if(t){return t.validatePhoneCode}else{throw JSON.stringify(n)}}))}var we;function Fe(e){return e[v["PHONE_NUMBER"].name]||""}var Ie=function(e){Object(s["__extends"])(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;n.state={isValidating:false};n.formRef=u.a.createRef();n.subscription=new q["a"];n.verifyCode$=new B["a"];n.process$=n.verifyCode$.pipe(Object(Q["a"])(function(){return n.validateInputs("onSubmit")}),Object(H["a"])(function(){n.setState({isValidating:true})}),Object($["a"])(function(e){return Ce({phoneNum:e[v["PHONE_NUMBER"].name],phoneCode:e[v["PHONE_CODE"].name]}).pipe(Object(H["a"])(function(e){var t=e.error;n.setState({isValidating:false});n.showSMSInputError(t)}),Object(G["a"])(function(e){var t=e.ok;return t}),Object(K["a"])(e))}),Object(H["a"])(n.props.goNextStep),Object(J["a"])(function(e){var t=e instanceof Error?e.message:String(e);n.showSMSInputError(t);return Object(W["a"])(e)}));n.getPhoneNumber=function(){return Object(V["a"])(n.validateInputs("onSendCode")).pipe(Object(Z["a"])(Fe))};n.onClickNextStepButton=function(){n.verifyCode$.next()};n.showSMSInputError=function(e){if(n.formRef.current){n.formRef.current.showError(v["PHONE_CODE"].name,e)}};return n}t.prototype.componentDidMount=function(){this.subscription.add(this.process$.subscribe())};t.prototype.componentWillUnmount=function(){this.verifyCode$.complete();this.subscription.unsubscribe()};t.prototype.render=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(v["Form"],{ref:this.formRef,onKeyDownEnter:this.onClickNextStepButton},u.a.createElement(v["Input"],Object(s["__assign"])({},v["PHONE_NUMBER"],{placeholder:"中国大陆手机号码"})),u.a.createElement(Ne,Object(s["__assign"])({},v["PHONE_CODE"],{onSendCodeError:this.showSMSInputError,getPhoneNumber:this.getPhoneNumber,placeholder:"短信验证码"}))),u.a.createElement(f["a"],{type:"primary",onClick:this.onClickNextStepButton,disabled:this.state.isValidating},"下一步"))};t.prototype.validateInputs=function(e){return this.formRef.current?this.formRef.current.validateInputs(e):z["a"]};return t}(u.a.PureComponent);var Pe=Ie;var Ae=Object(he["a"])({opacity:0,pointerEvents:"none",position:"absolute"},"label:hide;");var Me=function(e){Object(s["__extends"])(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.state={isSubmitting:false};t.formRef=u.a.createRef();t.onSubmit=function(e){if(e.location){t.savePasswordToBrowser().then(function(){window.location.href=D(e.location)})}else{t.afterSubmit(e)}};t.beforeSubmit=function(){t.setState({isSubmitting:true})};t.afterSubmit=function(e){t.setState({isSubmitting:false});t.showSubmitErrors(e)};t.onClickSignUp=function(){if(!t.state.isSubmitting&&t.formRef.current){t.formRef.current.submit({url:"/accounts/signup/",extraFormValue:Object(s["__assign"])(Object(s["__assign"])({},t.props.step1Form),{phone_email_select:"phone",next:t.props.next||"/",username:"placeholder"})})}};t.onConfirmPasswordFieldBlur=function(){if(t.formRef.current){t.formRef.current.validateInputs("onBlur")}};return t}t.prototype.render=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(v["Form"],{ref:this.formRef,beforeSubmit:this.beforeSubmit,onSubmit:this.onSubmit,onKeyDownEnter:this.onClickSignUp},u.a.createElement(v["Input"],Object(s["__assign"])({},v["NEW_NICKNAME"],{placeholder:"昵称"})),u.a.createElement("input",{disabled:true,name:v["PHONE_NUMBER"].name,className:Ae,autoComplete:v["PHONE_NUMBER"].autoComplete,value:this.props.step1Form[v["PHONE_NUMBER"].name]}),u.a.createElement(v["Input"],Object(s["__assign"])({},v["NEW_PASSWORD"],{placeholder:"密码"})),u.a.createElement(v["Input"],Object(s["__assign"])({},v["CONFIRM_PASSWORD"],{onBlur:this.onConfirmPasswordFieldBlur,placeholder:"再次确认密码"}))),u.a.createElement(f["a"],{type:"primary",onClick:this.onClickSignUp,disabled:this.state.isSubmitting},"注册"))};t.prototype.savePasswordToBrowser=function(){return Object(s["__awaiter"])(this,void 0,Promise,function(){var t=this;return Object(s["__generator"])(this,function(e){switch(e.label){case 0:if(!this.formRef.current)return[3,2];return[4,this.formRef.current.getFormValues().then(function(e){return{id:t.props.step1Form[v["PHONE_NUMBER"].name],password:e[v["NEW_PASSWORD"].name]}}).then(I["a"])];case 1:e.sent();e.label=2;case 2:return[2]}})})};t.prototype.showSubmitErrors=function(e){if(this.formRef.current){var n=e.form.fields;var a=this.formRef.current;Object.keys(n).forEach(function(e){var t=n[e].errors[0];if(t){a.showError(e,t)}})}};return t}(u.a.PureComponent);var Te=Object(p["c"])(Me);var De=Object(S["default"])("span",{target:"edd2g7b0"})({display:"inline-block",margin:"20px auto",fontSize:"14px",color:O["dblue6"],cursor:"pointer"},"label:GoPrevStep;");var Re=Object(S["default"])("div",{target:"edd2g7b1"})({textAlign:"center",marginTop:"20px",color:O["dark6"],span:{color:O["dblue6"],fontSize:"14px",lineHeight:"20px",cursor:"pointer",marginLeft:"0.5em"}},"label:GoSignIn;");var Ue=function(e){Object(s["__extends"])(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.state={step1Form:{}};t.onGoingToStep2=function(e){t.setState({step1Form:e},t.props.goStep2)};return t}t.prototype.render=function(){return this.props.currentStepIsStep1?this.renderStep1():this.renderStep2()};t.prototype.renderStep1=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(Pe,{goNextStep:this.onGoingToStep2}),u.a.createElement(Re,null,"已有账号? ",u.a.createElement("span",{onClick:this.props.goSignIn},"登录")),u.a.createElement(b["a"],null))};t.prototype.renderStep2=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(Te,{step1Form:this.state.step1Form}),u.a.createElement(De,{onClick:this.props.goStep1},"上一步"),u.a.createElement(A,null))};return t}(u.a.PureComponent);var Le=u.a.forwardRef(function(a,r){return u.a.createElement(E,null,function(e){var t=e.goStep,n=e.isCurrentStep;return u.a.createElement(Ue,Object(s["__assign"])({},a,{ref:r,goStep1:t(g.SignUpByMobileInStep1),goStep2:t(g.SignUpByMobileInStep2),goSignIn:t(g.SignIn),currentStepIsStep1:n(g.SignUpByMobileInStep1)}))})});var qe=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(F,null),u.a.createElement(E,null,function(e){var t=e.isCurrentStep;return t(g.SignUpByEmail)?u.a.createElement(L,null):u.a.createElement(Le,null)}))};var Be=n("1ZoV");var We=n.n(Be);var Ve=Object(S["default"])("div",{target:"e1tiamym0"})({display:"flex",flexDirection:"column",alignItems:"stretch"},"label:Container;");var ze=Object(S["default"])("img",{target:"e1tiamym1"})({height:"39px",marginBottom:"31px"},"label:Logo;");var Qe=function(e){Object(s["__extends"])(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.state={currentStep:t.props.defaultShowSignUp?g.SignUpByMobileInStep1:g.SignIn};t.updateCurrentStep=function(e){t.setState({currentStep:e})};t.isCurrentStep=function(e){return t.state.currentStep===e};t.goStep=function(e){return function(){t.updateCurrentStep(e)}};return t}Object.defineProperty(t.prototype,"stepProviderValue",{get:function(){return{goStep:this.goStep,isCurrentStep:this.isCurrentStep,currentStep:this.state.currentStep}},enumerable:true,configurable:true});t.prototype.render=function(){return u.a.createElement(Ve,null,!Object(i["b"])()&&u.a.createElement(ze,{alt:"LeetCode",src:We.a}),u.a.createElement(k,{value:this.stepProviderValue},this.isCurrentStep(g.SignIn)?u.a.createElement(x,null):u.a.createElement(qe,null)))};return t}(u.a.PureComponent);var He=Object(p["c"])(Qe);var $e=Object(S["default"])("div",{target:"e1xzy58v0"})({maxWidth:"340px",margin:"0 auto"},"label:SignInContainer;");var Ge=function(e){return u.a.createElement(p["b"],{value:e},u.a.createElement($e,null,u.a.createElement(He,null)))};var Ke=n("5ZzG");var Je=Object(S["default"])(Ke["a"],{target:"ermmwfc0"})({width:"20px",height:"20px",padding:"10px",boxSizing:"content-box",color:O["dblue1"],cursor:"pointer",position:"absolute",right:0,top:0,transition:"all 0.2s ease","&:hover":{color:O["dblue6"]}},"label:CloseIcon;");var Ze=function(e){return u.a.createElement(Je,{type:"close",onClick:e})};var Ye=ne()(function(){var e=document.createElement("div");e.classList.add("sign-in-modal-container");document.body.appendChild(e);return e});n.d(t,"a",function(){return Xe});var Xe=function(t){Object(s["__extends"])(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;e.titleStyle={position:"relative",padding:"20px",background:"linear-gradient(to top, #ffffff, #fafafa)",borderRadius:"3px 3px 0 0",display:"flex",alignItems:"center"};return e}i.hide=function(){o.a.render(u.a.createElement(i,{visible:false}),Ye())};i.signIn=function(e){if(e===void 0){e={}}var t=e.afterSignIn,n=e.defaultShowSignUp,a=e.user,r=Object(s["__rest"])(e,["afterSignIn","defaultShowSignUp","user"]);if(!a||a.isUpdated&&!a.isSignedIn){o.a.render(u.a.createElement(i,Object(s["__assign"])({defaultShowSignUp:n,visible:true,onClose:i.hide},r)),Ye())}else{if(typeof t==="function"){t()}}};i.signUp=function(e){if(e===void 0){e={}}i.signIn(Object(s["__assign"])(Object(s["__assign"])({},e),{defaultShowSignUp:true}))};i.ensureSignedIn=function(e,t){return function(){i.signIn(Object(s["__assign"])(Object(s["__assign"])({},t),{afterSignIn:e}))}};i.ensureVerified=function(e,t){return function(){i.signIn(Object(s["__assign"])(Object(s["__assign"])({},t),{afterSignIn:function(){if(t.user.isVerified){e()}else{d["a"].error(u.a.createElement("span",null,"请验证手机或邮箱后继续操作，",u.a.createElement("a",{href:l["a"].main.PATH.profile.account},"前往验证")))}}}))}};i.ensurePhoneVerified=function(e,t){return function(){i.signIn(Object(s["__assign"])(Object(s["__assign"])({},t),{afterSignIn:function(){if(t.user.isPhoneVerified){e()}else{d["a"].error(u.a.createElement("span",null,"请绑定手机后继续操作，",u.a.createElement("a",{href:l["a"].main.PATH.profile.account},"前往绑定")))}}}))}};i.prototype.render=function(){var e=this.props,t=e.visible,n=e.closable,a=e.onClose,r=e.additionalFooter,i=Object(s["__rest"])(e,["visible","closable","onClose","additionalFooter"]);var o=typeof i.next==="string"?i.next:c["a"].getCurrentRelativePath();var l=function(){return null};return u.a.createElement(m["a"],{destroyOnClose:true,visible:t,onClose:a,width:400,contentPadding:"0 20px 20px",titleStyle:this.titleStyle,title:"",hasFooter:false,maskClosable:n,closeButton:n?Ze:l},u.a.createElement(Ge,Object(s["__assign"])({},i,{next:o})),r)};return i}(u.a.PureComponent)},"V5/1":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("D57K");var r=n("ERkP");var i=n.n(r);var o=n("jWsR");var l=n("yu9t");var s=function(e){return i.a.createElement(o["a"],Object(a["__assign"])({},e,{kind:l["a"].Input}))}},aDWd:function(e,t,n){e.exports=n.p+"7917192c073e5f349bad8cbee200c428.jpg"},bcHh:function(e,t,n){e.exports=n.p+"b57ccb2c31ad894cf5f431b637f524d3.png"},cuV4:function(e,t,n){e.exports=n.p+"785e0d3aad5988c6461146964f91f17a.jpg"},dTXi:function(e,t,n){"use strict";var v=n("D57K");var b=n("ERkP");var g=n.n(b);var a=n("ildc");var r=n("zCf4");var i=n("9xBf");var o=n("DoiJ");var l=n("S0yW");var s=n("DjZ7");var h=n("K/af");var u=n("Klpt");var y=n("5ZzG");var c=n("YnR9");var k=n("6h7y");var E=n("8d7B");var d=n("lLWr");var S=n("8NtH");var f=n("YnYl");var m=n("VF98");var p=n("mQQu");var O=n("4+Z5");var _=n("LJ7e");var j=n("SwI/");var N=Object(_["default"])("div",{target:"e1bfpg6b0"})({position:"relative"},"label:Container;");var x=Object(_["default"])("div",{target:"e1bfpg6b1"})({position:"absolute",left:"12px",top:"-3px",background:j["a"].red4,border:"2px solid "+j["a"].white,borderRadius:"8px",color:j["a"].white,display:"inline-block",fontFamily:"FetteMittelschrift, sans-serif",fontSize:"12px",lineHeight:"12px",padding:"0 4px",textAlign:"center",pointerEvents:"none"},function(e){var t=e.isShow;return{opacity:t?1:0,transition:"opacity 0.18s ease-in-out"}},"label:Counter;");var C=function(e){Object(v["__extends"])(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.componentDidMount=function(){Object(p["b"])(this.props.numUnread)};t.prototype.componentDidUpdate=function(e){if(e.numUnread!==this.props.numUnread){Object(p["b"])(this.props.numUnread)}};t.prototype.render=function(){var e=this.props,t=e.numUnread,n=Object(v["__rest"])(e,["numUnread"]);return g.a.createElement(N,null,g.a.createElement(m["Helmet"],null,g.a.createElement("link",{rel:"icon",type:"image/png",href:O["a"]["favicon"+(t?"Notification":"")+"16x16"],sizes:"16x16"}),g.a.createElement("link",{rel:"icon",type:"image/png",href:O["a"]["favicon"+(t?"Notification":"")+"32x32"],sizes:"32x32"}),g.a.createElement("link",{rel:"icon",type:"image/png",href:O["a"]["favicon"+(t?"Notification":"")+"96x96"],sizes:"96x96"}),g.a.createElement("link",{rel:"icon",type:"image/png",href:O["a"]["favicon"+(t?"Notification":"")+"160x160"],sizes:"160x160"}),g.a.createElement("link",{rel:"icon",type:"image/png",href:O["a"]["favicon"+(t?"Notification":"")+"192x192"],sizes:"192x192"})),g.a.createElement(y["a"],Object(v["__assign"])({type:"notification"},n)),g.a.createElement(x,{isShow:t>0},Object(p["a"])(t)))};return t}(g.a.PureComponent);var w=15;var F=20;var I=n("5Nzd");var P=n("u3dr");var A=n("2wT7");var M=n("pN2L");var T=n("gQst");var D=n("HnWI");var R=n("eb+u");var U=n("rzNM");var L=n("Jg5f");var q=n("W/Ou");var B=n("4HYP");var W=n("AouM");var V=n("QXhF");var z=n("B07F");var Q=n("w+fZ");var H=n("6/5F");var $=n("Njp8");var G=n("ABDk");var K=n("GE63");var J=n.n(K);var Z=n("6CID");var Y=n.n(Z);var X=n("7VoO");var ee=n.n(X);var te;var ne;(function(e){e["Navbar"]="navbar";e["Page"]="page"})(ne||(ne={}));var ae="online-users-room";var re={loading:true,firstLoad:true,hasMore:true,nextPage:0,unreadNumber:0};var ie=(te={},te[f["a"].AnySubActivity]=Object(v["__assign"])(Object(v["__assign"])({},re),{key:f["a"].AnySubActivity,activities:[]}),te[f["a"].NotificationFromSite]=Object(v["__assign"])(Object(v["__assign"])({},re),{key:f["a"].NotificationFromSite,activities:[]}),te[f["a"].NotificationAboutMe]=Object(v["__assign"])(Object(v["__assign"])({},re),{key:f["a"].NotificationAboutMe,activities:[]}),te[f["a"].NotificationFollowInfo]=Object(v["__assign"])(Object(v["__assign"])({},re),{key:f["a"].NotificationFollowInfo,activities:[]}),te);var oe=[{key:f["a"].NotificationFromSite,icon:"list"},{key:f["a"].NotificationAboutMe,icon:"chat-o"},{key:f["a"].NotificationFollowInfo,icon:"group"}];var le={filter:f["a"].AnySubActivity,categories:ie,totalUnreadNumber:0};var se=function(a){Object(v["__extends"])(e,a);function e(e,t){var n=a.call(this)||this;n.client=e;n.logger=t;n.defaultState=le;return n}e.prototype.updateFilter=function(e,t){return Object(v["__assign"])(Object(v["__assign"])({},e),{filter:t})};e.prototype.updateNotifications=function(e,t){var n;var a=t.data,r=t.filter;var i=e.categories[r];return Object(v["__assign"])(Object(v["__assign"])({},e),{categories:Object(v["__assign"])(Object(v["__assign"])({},e.categories),(n={},n[r]=Object(v["__assign"])(Object(v["__assign"])({},i),{firstLoad:false,activities:i.activities.concat(a.nodes),loading:false,nextPage:i.nextPage+1,hasMore:a.hasMore}),n))})};e.prototype.setLoading=function(e,t){var n;return Object(v["__assign"])(Object(v["__assign"])({},e),{categories:Object(v["__assign"])(Object(v["__assign"])({},e.categories),(n={},n[t]=Object(v["__assign"])(Object(v["__assign"])({},e.categories[t]),{loading:true,firstLoad:false}),n))})};e.prototype.getNotifications=function(e,t){var r=this;return e.pipe(Object(R["a"])(t),Object(U["a"])(function(e){var t=Object(v["__read"])(e,2),n=t[0],a=t[1];return r.client.query({query:ee.a,variables:{subType:a.filter,numPerPage:n,page:a.categories[a.filter].nextPage},fetchPolicy:"network-only"}).pipe(Object(V["a"])("获取通知失败"),Object(L["a"])(function(e){var t=e.data;return r.getActions().updateNotifications({data:t.myNotificationV2,filter:a.filter})}),Object(q["a"])(r.getActions().setLoading(a.filter)))}))};e.prototype.markAllRead=function(e){var t=this;return e.pipe(Object(U["a"])(function(e){return t.client.mutate({mutation:Y.a,variables:{subType:e}}).pipe(Object(V["a"])("标记所有通知已读失败"),Object(L["a"])(function(){return t.getActions().updateUnreadNumber({subType:e,num:0})}))}))};e.prototype.updateUnreadNumber=function(e,t){var n;var a=t.subType,r=t.num;var i=e.categories[a];return Object(v["__assign"])(Object(v["__assign"])({},e),{totalUnreadNumber:e.totalUnreadNumber-i.unreadNumber+r,categories:Object(v["__assign"])(Object(v["__assign"])({},e.categories),(n={},n[a]=Object(v["__assign"])(Object(v["__assign"])({},i),{unreadNumber:r}),n))})};e.prototype.getUnreadNumber=function(e){var n=this;return e.pipe(Object(U["a"])(function(){return n.client.query({query:J.a,fetchPolicy:"network-only"}).pipe(Object(V["a"])("获取未读通知数量失败"),Object(B["a"])(function(e){var t=e.data;return Object(M["a"])(n.getActions().updateUnreadNumber({subType:f["a"].NotificationFromSite,num:t.fromSite}),n.getActions().updateUnreadNumber({subType:f["a"].NotificationAboutMe,num:t.aboutMe}),n.getActions().updateUnreadNumber({subType:f["a"].NotificationFollowInfo,num:t.followInfo}))}))}))};e.prototype.listenToNotificationInWs=function(e){var n=this;return e.pipe(Object(W["a"])(function(){var e=new H["a"](G["c"].Default);e.setExceptionCallback(function(e){return n.logger.error(e)});var t=G["b"].REFETCH_NOTIFICATION_NUM;return Object(T["a"])(e.observeRoomEvent(Object($["a"])(ae),t),e.observeMyRoomEvent(t))}),Object(L["a"])(function(){return n.getActions().getUnreadNumber()}))};e.prototype.clearAllNotifications=function(t){oe.forEach(function(e){t.categories[e.key]=Object(v["__assign"])(Object(v["__assign"])({},t.categories[e.key]),{firstLoad:true,hasMore:true,nextPage:0,activities:[]})})};var t,n,r,i,o,l,s,u,c,d,m,p;Object(v["__decorate"])([Object(P["a"])(),Object(v["__metadata"])("design:type",typeof(t=typeof D["a"]!=="undefined"&&D["a"])==="function"?t:Object)],e.prototype,"stopPolling$",void 0);Object(v["__decorate"])([Object(P["d"])(),Object(v["__metadata"])("design:type",Function),Object(v["__metadata"])("design:paramtypes",[Object,Object]),Object(v["__metadata"])("design:returntype",Object)],e.prototype,"updateFilter",null);Object(v["__decorate"])([Object(P["d"])(),Object(v["__metadata"])("design:type",Function),Object(v["__metadata"])("design:paramtypes",[Object,Object]),Object(v["__metadata"])("design:returntype",Object)],e.prototype,"updateNotifications",null);Object(v["__decorate"])([Object(P["d"])(),Object(v["__metadata"])("design:type",Function),Object(v["__metadata"])("design:paramtypes",[Object,Object]),Object(v["__metadata"])("design:returntype",Object)],e.prototype,"setLoading",null);Object(v["__decorate"])([Object(P["b"])(),Object(v["__metadata"])("design:type",Function),Object(v["__metadata"])("design:paramtypes",[typeof(n=typeof D["a"]!=="undefined"&&D["a"])==="function"?n:Object,typeof(r=typeof D["a"]!=="undefined"&&D["a"])==="function"?r:Object]),Object(v["__metadata"])("design:returntype",typeof(i=typeof D["a"]!=="undefined"&&D["a"])==="function"?i:Object)],e.prototype,"getNotifications",null);Object(v["__decorate"])([Object(P["b"])(),Object(v["__metadata"])("design:type",Function),Object(v["__metadata"])("design:paramtypes",[typeof(o=typeof D["a"]!=="undefined"&&D["a"])==="function"?o:Object]),Object(v["__metadata"])("design:returntype",typeof(l=typeof D["a"]!=="undefined"&&D["a"])==="function"?l:Object)],e.prototype,"markAllRead",null);Object(v["__decorate"])([Object(P["d"])(),Object(v["__metadata"])("design:type",Function),Object(v["__metadata"])("design:paramtypes",[Object,Object]),Object(v["__metadata"])("design:returntype",Object)],e.prototype,"updateUnreadNumber",null);Object(v["__decorate"])([Object(P["b"])(),Object(v["__metadata"])("design:type",Function),Object(v["__metadata"])("design:paramtypes",[typeof(s=typeof D["a"]!=="undefined"&&D["a"])==="function"?s:Object]),Object(v["__metadata"])("design:returntype",typeof(u=typeof D["a"]!=="undefined"&&D["a"])==="function"?u:Object)],e.prototype,"getUnreadNumber",null);Object(v["__decorate"])([Object(P["b"])(),Object(v["__metadata"])("design:type",Function),Object(v["__metadata"])("design:paramtypes",[typeof(c=typeof D["a"]!=="undefined"&&D["a"])==="function"?c:Object]),Object(v["__metadata"])("design:returntype",typeof(d=typeof D["a"]!=="undefined"&&D["a"])==="function"?d:Object)],e.prototype,"listenToNotificationInWs",null);Object(v["__decorate"])([Object(P["c"])(),Object(v["__metadata"])("design:type",Function),Object(v["__metadata"])("design:paramtypes",[Object]),Object(v["__metadata"])("design:returntype",void 0)],e.prototype,"clearAllNotifications",null);e=Object(v["__decorate"])([Object(I["a"])(),Object(v["__metadata"])("design:paramtypes",[typeof(m=typeof z["a"]!=="undefined"&&z["a"])==="function"?m:Object,typeof(p=typeof Q["a"]!=="undefined"&&Q["a"])==="function"?p:Object])],e);return e}(A["a"]);var ue=n("daAW");var ce=n("v31z");var de=n("JFCy");var me=Object(_["default"])("div",{target:"e1fx84cm0"})({flex:1,display:"flex",flexDirection:"column",alignItems:"center",overflowX:"hidden",overflowY:"auto",overscrollBehavior:"contain"},"label:NotificationScrollContainer;");var pe=Object(_["default"])("div",{target:"e1fx84cm1"})({display:"flex",flexDirection:"column",background:"white",width:"480px",height:"480px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",borderRadius:"4px",overflow:"hidden",WebkitFontSmoothing:"antialiased"},"label:NotificationMenuContainer;");var fe=Object(_["default"])("div",{target:"e1fx84cm2"})({height:"40px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 12px",borderTop:"1px solid "+j["a"].dark9},"label:NotificationMenuBar;");var ve=Object(_["default"])(ue["b"],{target:"e1fx84cm3"})({color:j["a"].dblue4,"&:active, &:focus, &:hover, &:visited":{textDecoration:"none"},"&:hover":{color:j["a"].dblue6}},"label:NotificationListLink;");var be=Object(_["default"])(u["a"].Menu,{target:"e1fx84cm4"})({padding:"0 !important",overflow:"hidden",borderBottomLeftRadius:"0",borderBottomRightRadius:"0","& > .ant-dropdown-menu-item":{height:"auto",background:"white",padding:"0 !important","&.ant-dropdown-menu-item-active":{background:"linear-gradient(180deg, white, "+j["a"].dark10+")"}},"& > li":{display:"block",padding:"0 20px",position:"relative"}},"label:StyledDropdownMenu;");var ge=Object(_["default"])(u["a"].Menu.Item,{target:"e1fx84cm5"})({"&:not(:last-of-type)":{borderBottom:"1px solid "+j["a"].dark8}},"label:StyledDropdownMenuItem;");var he=g.a.createContext({isNoj:true});var ye=function(){return g.a.createElement(ce["a"],{icon:"settings",size:de["b"],type:"transparent"},"设置")};var ke=function(){return g.a.createElement(ce["a"],{size:de["b"],type:"transparent"},"查看全部通知")};var Ee=Object(b["memo"])(function(e){var t=Object(b["useContext"])(he).isNoj;var n=t?g.a.createElement(g.a.Fragment,null,g.a.createElement("a",{href:c["a"].main.PATH.profile.notifications},g.a.createElement(ye,null)),g.a.createElement("a",{href:c["a"].main.PATH.notifications.home},g.a.createElement(ke,null))):g.a.createElement(g.a.Fragment,null,g.a.createElement(ue["b"],{to:c["a"].main.PATH.profile.notifications},g.a.createElement(ye,null)),g.a.createElement(ue["b"],{to:c["a"].main.PATH.notifications.home},g.a.createElement(ke,null)));return g.a.createElement(u["a"],{trigger:["click"],align:{points:["tr","br"],offset:[42,12]},onVisibleChange:e.onVisibleChange,overlay:g.a.createElement(g.a.Fragment,null,g.a.createElement(pe,null,e.overlay,g.a.createElement(fe,null,n)))},e.children)});var Se=n("8JP3");var Oe=n("Pigy");var _e=n("fsDi");var je=Object(_["default"])("div",{target:"ethih2k0"})({flex:1,display:"flex",flexDirection:"column",alignItems:"center",fontSize:"12px",lineHeight:"14px",background:j["a"].white},"label:Rows;");var Ne=Object(_["default"])("div",{target:"ethih2k1"})({width:"100%",padding:"15px 20px",backgroundColor:"white",borderBottom:"1px solid "+j["a"].grey2,display:"flex",alignItems:"center",justifyContent:"space-between",flexShrink:0},"label:Row;");var xe=Object(_["default"])(Ne,{target:"ethih2k2"})({":hover":{background:"#EDEFF1"}},"label:HoverRow;");var Ce=Object(_["default"])("div",{target:"ethih2k3"})({width:"100%",height:"600px"},"label:PlaceholderWrapper;");var we=n("lSUb");var Fe=n("z0YO");var Ie=n("m3my");var Pe=Object(_["default"])("div",{target:"e18hzs7v0"})(function(e){var t=e.isActive,n=e.hasUnread;return Object(v["__assign"])(Object(v["__assign"])({position:"relative",display:"flex",alignItems:"center",fontSize:"12px",color:t?j["a"].dblue7:j["a"].grey4,userSelect:"none",margin:"0 10px"},Object(Ie["a"])(".2s")),{":hover":{color:j["a"].dblue7},"::after":{content:'""',position:"absolute",display:n?"block":"none",width:"5px",height:"5px",borderRadius:"50%",background:j["a"].redA2,top:0,right:"-6px"}})},"label:TabTitle;");var Ae=Object(we["a"])(function(e,t,n){return g.a.createElement(Pe,{isActive:t,hasUnread:n},e)});var Me=Object(b["memo"])(function(t){var e=Object(b["useCallback"])(function(e){t.onTabChange(e)},[t.onTabChange]);return g.a.createElement(Fe["a"],{tabWidth:t.tabWidth,type:t.type,size:t.size,onChange:e,activeKey:t.currentTab},t.tabs.map(function(e){return g.a.createElement(Fe["a"].Tab,{title:Ae(e.title,e.key===t.currentTab,e.unreadNumber&&e.unreadNumber>0),key:e.key},false)}))});var Te=n("wgY5");var De=n.n(Te);var Re=n("NAi2");var Ue;var Le=Object(_["default"])("div",{target:"e14iayf20"})(function(e){var t=e.unread;return{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"12px",lineHeight:"17px",color:j["a"].black,fontWeight:t?"bold":"normal"}},"label:Wrapper;");var qe=Object(_["default"])("div",{target:"e14iayf21"})({display:"inline",".leetcoin":{height:"12px",verticalAlign:"-1.5px"},"> a":Object(v["__assign"])(Object(v["__assign"])({color:j["a"].dblue7,display:"inline-block",verticalAlign:"top",maxWidth:"150px"},Ie["c"]),{":hover":{textDecoration:"underline"}})},"label:LeetcodeNotification;");var Be=Object(_["default"])("div",{target:"e14iayf22"})({"> *":{":not(:last-child)":{marginRight:"10px"}}},"label:Content;");var We=Object(_["default"])("div",{target:"e14iayf23"})({display:"flex",alignItems:"center"},"label:SubmitCodeContent;");var Ve=Object(_["default"])("div",{target:"e14iayf24"})({color:j["a"].grey5,flexShrink:0,marginLeft:"5px",fontWeight:"normal"},"label:Timestamp;");var ze=Object(_["default"])("a",{target:"e14iayf25"})(function(e){var t=e.narrow;return Object(v["__assign"])(Object(v["__assign"])({color:j["a"].dblue7,maxWidth:t?"100px":"150px",display:"inline-block",verticalAlign:"top"},Ie["c"]),{":hover":{textDecoration:"underline"}})},"label:Link;");var Qe=Object(_["default"])("div",{target:"e14iayf26"})((Ue={display:"inline-block"},Ue[""+ze]={marginRight:0},Ue),"label:UserLinksWrapper;");var He=Object(_["default"])(Re["a"],{target:"e14iayf27"})({color:j["a"].green9,background:j["a"].green0,borderColor:j["a"].green0,transition:"background .2s ease",marginLeft:"10px",flexShrink:0,"&:hover":{color:j["a"].green9,background:j["a"].green1,borderColor:j["a"].green1}},"label:SuccessTag;");var $e=Object(_["default"])(Re["a"],{target:"e14iayf28"})({color:j["a"].red7,borderColor:j["a"].red0,background:j["a"].red0,transition:"background .2s ease",marginLeft:"10px",flexShrink:0,"&:hover":{color:j["a"].red9,borderColor:j["a"].red1,background:j["a"].red1}},"label:ErrorTag;");function Ge(e){if(!e.content){return null}return g.a.createElement(Be,null,g.a.createElement(qe,{dangerouslySetInnerHTML:{__html:e.content||""}}),e.link&&g.a.createElement(ze,{href:e.link,target:"_blank"},"点击查看"))}var Ke=function(e){var t=e.company,n=e.children;return g.a.createElement(ze,{href:"/jobs/"+t.nameSlug,target:"_blank"},n||t.name)};function Je(e){var t=Object(v["__read"])(e.actors,1),n=t[0];return g.a.createElement(Be,null,g.a.createElement(Ke,{company:n}),g.a.createElement("span",null,"有新的职位向你推荐"),g.a.createElement(Ke,{company:n},"点击查看"))}var Ze=function(e){var t=e.user;return g.a.createElement(ze,{key:t.profile.userSlug,href:c["a"].main.paths.publicProfile.home({userSlug:t.profile.userSlug}),target:"_blank",narrow:true},t.profile.realName||t.username)};var Ye=function(e){var t=e.users,n=e.count;var a=!n||n===1?"":n===2?"2 人":"等 "+n+" 人";var r=t.map(function(e){return g.a.createElement(Ze,{key:e.username,user:e})}).reduce(function(e,t){return e.length===0?[t]:Object(v["__spread"])(e,["、",t])},[]);return g.a.createElement(g.a.Fragment,null,g.a.createElement(Qe,null,r),a)};var Xe=function(e){var t=e.isMyProfile,n=e.user;var a=Object(b["useContext"])(E["userContext"]);if(t){return!n||a.userSlug===n.profile.userSlug?g.a.createElement(g.a.Fragment,null,"我"):g.a.createElement(Ze,{user:n})}return null};var et=Object(we["a"])(function(e,t){if(t){return"/problems/"+t.titleSlug+"/solution/"+e.slug}return"/circle/article/"+e.uuid});var tt=function(e){var t=e.feedArticle,n=e.children;return g.a.createElement(ze,{href:""+et(t.article,t.articleQuestion),target:"_blank"},n||t.article.title)};var nt=function(e){var t;var n=et(e.articleComment.article,e.articleComment.articleQuestion);if(e.articleComment.articleQuestion){t=n+"/"+e.articleComment.comment.id}else{t=n+"/comments/"+e.articleComment.comment.id}return g.a.createElement(ze,{href:t,target:"_blank"},e.children)};var at=function(e){return e.articleQuestion?"题解":"文章"};var rt=function(e){return e.articleQuestion?c["a"].main.PATH.profile.articles:c["a"].main.PATH.discuss.myDrafts};var it=function(t,n){if(n===void 0){n=[]}if(typeof t!=="object"||!t){return true}return Object.keys(t).filter(function(e){return!n.includes(e)}).findIndex(function(e){return t[e]===null||t[e]===undefined})>-1};function ot(e){var t=e.actors,n=e.obj;if(it(n,["qaQuestion"])){return null}return g.a.createElement(Be,null,g.a.createElement(Ye,{users:t}),g.a.createElement("span",null,"发布了题解"),g.a.createElement(tt,{feedArticle:n}))}var lt=function(e){var t=e.question;return g.a.createElement(ze,{href:"/problems/"+t.titleSlug,target:"_blank"},t.questionFrontendId+". "+(t.translatedTitle||t.title))};var st=function(e){var t=e.questionComment,n=t.question,a=t.comment,r=e.children;return g.a.createElement(ze,{href:"/problems/"+n.titleSlug+"/comments/"+a.id,target:"_blank"},r)};function ut(e){var t=e.obj,n=e.target;if(it(n,["qaQuestion"])){return null}return g.a.createElement(Be,null,g.a.createElement("span",null,"题目"),g.a.createElement(lt,{question:t}),g.a.createElement("span",null,"新增了 1 篇题解"),g.a.createElement(tt,{feedArticle:n}))}function ct(e){var t=e.actors,n=e.obj;if(it(n,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(Be,null,g.a.createElement("span",null,"你在",at(n)),g.a.createElement(tt,{feedArticle:n}),g.a.createElement("span",null,"中被"),g.a.createElement(Ye,{users:t}),g.a.createElement("span",null,"提到"))}function dt(e){var t=e.actors,n=e.obj;if(it(n,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(Be,null,g.a.createElement("span",null,"你在",at(n)),g.a.createElement(tt,{feedArticle:n}),g.a.createElement("span",null,"的评论中被"),g.a.createElement(Ye,{users:t}),g.a.createElement("span",null,"提到"),g.a.createElement(nt,{articleComment:n},"点击查看"))}function mt(e){var t=e.actors,n=e.obj;if(it(n)){return null}return g.a.createElement(Be,null,g.a.createElement("span",null,"你在题目"),g.a.createElement(lt,{question:n.question}),g.a.createElement("span",null,"的评论中被"),g.a.createElement(Ye,{users:t}),g.a.createElement("span",null,"提到"),g.a.createElement(st,{questionComment:n},"点击查看"))}function pt(e){var t=e.actors,n=e.actorNums,a=e.obj;if(it(a)){return null}return g.a.createElement(Be,null,g.a.createElement(Ye,{users:t,count:n}),g.a.createElement("span",null,"回复了你在题目"),g.a.createElement(lt,{question:a.question}),g.a.createElement("span",null,"中的评论"),g.a.createElement(st,{questionComment:a},"点击查看"))}function ft(e){var t=e.actors,n=e.actorNums,a=e.obj;if(it(a)){return null}return g.a.createElement(Be,null,g.a.createElement(Ye,{users:t,count:n}),g.a.createElement("span",null,"赞了你在题目"),g.a.createElement(lt,{question:a.question}),g.a.createElement("span",null,"中的评论"),g.a.createElement(st,{questionComment:a},"点击查看"))}function vt(e){var t=e.actors,n=e.actorNums,a=e.obj;if(it(a,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(Be,null,g.a.createElement(Ye,{users:t,count:n}),g.a.createElement("span",null,"赞了你在",at(a)),g.a.createElement(tt,{feedArticle:a}),g.a.createElement("span",null,"中的评论"),g.a.createElement(nt,{articleComment:a},"点击查看"))}function bt(e){var t=e.actors,n=e.actorNums,a=e.obj;if(it(a,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(Be,null,g.a.createElement(Ye,{users:t,count:n}),g.a.createElement("span",null,"赞了你的",at(a)),g.a.createElement(tt,{feedArticle:a}))}function gt(e){var t=e.actors,n=e.actorNums,a=e.obj;if(it(a,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(Be,null,g.a.createElement(Ye,{users:t,count:n}),g.a.createElement("span",null,"评论了你的",at(a)),g.a.createElement(tt,{feedArticle:a}),g.a.createElement(nt,{articleComment:a},"点击查看"))}function ht(e){var t=e.actors;return g.a.createElement(Be,null,g.a.createElement(Ye,{users:t}),g.a.createElement("span",null,"关注了你"))}function yt(e){var t=e.actors,n=e.actorNums,a=e.obj;if(it(a,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(Be,null,g.a.createElement(Ye,{users:t,count:n}),g.a.createElement("span",null,"回复了你在",at(a)),g.a.createElement(tt,{feedArticle:a}),g.a.createElement("span",null,"中的评论"),g.a.createElement(nt,{articleComment:a},"点击查看"))}function kt(e){var t=e.obj,n=e.content;if(it(t,["articleQuestion"])){return null}return g.a.createElement(Be,null,g.a.createElement("span",null,"您的",at(t)),g.a.createElement(ze,null,t.article.title),g.a.createElement("span",null,"因涉嫌",n,"被下线"),g.a.createElement(ze,{href:rt(t)},"点击查看"))}function Et(e){var t=e.actors,n=e.actorNums,a=e.obj;if(it(a,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(Be,null,g.a.createElement(Ye,{users:t,count:n}),g.a.createElement("span",null,"编辑了",at(a)),g.a.createElement(tt,{feedArticle:a}))}function St(e){var t=e.actorNums,n=e.obj;if(it(n,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(Be,null,g.a.createElement("span",null,at(n)),g.a.createElement(tt,{feedArticle:n}),g.a.createElement("span",null,"新增了 ",t," 条评论"))}var Ot=c["a"].main.paths;var _t=function(e){var t=e.question,n=e.children;return g.a.createElement(ze,{href:Ot.discuss.discussionDetail({discussId:t.uuid}),target:"_blank"},n||t.title)};var jt=function(e){var t=e.answer,n=e.question,a=e.children;return g.a.createElement(ze,{href:Ot.discuss.viewShare({discussId:n.uuid,viewId:t.uuid}),target:"_blank"},a)};var Nt=function(e){var t=e.comment,n=e.children;return g.a.createElement(ze,{href:Ot.discuss.viewCommentShare({discussId:t.qaQuestion.uuid,viewId:t.article.uuid,commentId:t.comment.id}),target:"_blank"},n)};function xt(e){var t=e.actors,n=e.obj,a=e.actorNums;if(it(n,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(Be,null,g.a.createElement(Ye,{users:t,count:a}),g.a.createElement("span",null,"参与了讨论"),g.a.createElement(_t,{question:n.article}))}function Ct(e){var t=e.actors,n=e.actorNums,a=e.obj;if(it(a,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(Be,null,g.a.createElement(Ye,{users:t,count:n}),g.a.createElement("span",null,"更新了讨论"),g.a.createElement(_t,{question:a.article}))}function wt(e){var t=e.actors,n=e.obj;if(it(n,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(Be,null,g.a.createElement("span",null,"你在讨论"),g.a.createElement(_t,{question:n.article}),g.a.createElement("span",null,"中被"),g.a.createElement(Ye,{users:t}),g.a.createElement("span",null,"提到"))}function Ft(e){var t=Object(v["__read"])(e.actors,1),n=t[0],a=e.obj;if(it(a,["articleQuestion"])){return null}return g.a.createElement(Be,null,g.a.createElement("span",null,"你在"),g.a.createElement(Ze,{user:n}),g.a.createElement("span",null,"的讨论"),g.a.createElement(_t,{question:a.qaQuestion}),g.a.createElement("span",null,"中被提到"))}function It(e){var t=e.actors,n=e.actorNums,a=e.obj;if(it(a,["articleQuestion"])){return null}return g.a.createElement(Be,null,g.a.createElement(Ye,{users:t,count:n}),g.a.createElement("span",null,"赞了你参与的讨论"),g.a.createElement(_t,{question:a.qaQuestion}),g.a.createElement(jt,{answer:a.article,question:a.qaQuestion},"点击查看"))}function Pt(e){var t=e.actors,n=e.actorNums,a=e.obj;if(it(a,["qaQuestion","articleQuestion"])){return null}return g.a.createElement(Be,null,g.a.createElement(Ye,{users:t,count:n}),g.a.createElement("span",null,"关注了你发起的讨论"),g.a.createElement(_t,{question:a.article}))}function At(e){var t=e.actors,n=e.actorNums,a=e.obj;if(it(a,["articleQuestion"])){return null}return g.a.createElement(Be,null,g.a.createElement(Ye,{users:t,count:n}),g.a.createElement("span",null,"评论了你参与的讨论"),g.a.createElement(_t,{question:a.qaQuestion}),g.a.createElement(jt,{answer:a.article,question:a.qaQuestion},"点击查看"))}function Mt(e){var t=e.actors,n=e.actorNums,a=e.obj;if(it(a,["articleQuestion"])){return null}return g.a.createElement(Be,null,g.a.createElement(Ye,{users:t,count:n}),g.a.createElement("span",null,"回复了你在讨论"),g.a.createElement(_t,{question:a.qaQuestion}),g.a.createElement("span",null,"下的评论"),g.a.createElement(Nt,{comment:a},"点击查看"))}function Tt(e){var t=e.actors,n=e.actorNums,a=e.obj;if(it(a,["articleQuestion"])){return null}return g.a.createElement(Be,null,g.a.createElement(Ye,{users:t,count:n}),g.a.createElement("span",null,"赞了你在讨论"),g.a.createElement(_t,{question:a.qaQuestion}),g.a.createElement("span",null,"下的评论"),g.a.createElement(Nt,{comment:a},"点击查看"))}function Dt(e){var t=Object(v["__read"])(e.actors,1),n=t[0],a=e.obj;if(it(a,["articleQuestion","qaQuestion"])){return null}return g.a.createElement(Be,null,g.a.createElement("span",null,"你在"),g.a.createElement(Ze,{user:n}),g.a.createElement("span",null,"的讨论"),g.a.createElement(_t,{question:a.qaQuestion}),g.a.createElement("span",null,"的评论中被提到"),g.a.createElement(Nt,{comment:a},"点击查看"))}function Rt(e){var t=e.actors,n=e.obj,a=e.actorNums;if(it(n,["articleQuestion"])){return null}return g.a.createElement(Be,null,g.a.createElement(Ye,{users:t,count:a}),g.a.createElement("span",null,"参与了讨论"),g.a.createElement(_t,{question:n.qaQuestion}),g.a.createElement(jt,{answer:n.article,question:n.qaQuestion},"点击查看"))}var Ut=new Map([[f["b"].UserAddArticle,ot],[f["b"].Follow,ht],[f["b"].ProblemAddArticle,ut],[f["b"].JobInvite,Je],[f["b"].ProblemCommentRefer,mt],[f["b"].ArticleCommentRefer,dt],[f["b"].ArticleRefer,ct],[f["b"].ReplyProblemComment,pt],[f["b"].UpvoteProblemComment,ft],[f["b"].UpvoteArticleComment,vt],[f["b"].UpvoteArticle,bt],[f["b"].CommentArticle,gt],[f["b"].ReplyArticleComment,yt],[f["b"].LeetcodeNotify,Ge],[f["b"].SiteNotify,Ge],[f["b"].CancelArticle,kt],[f["b"].UpdateArticle,Et],[f["b"].CommentArticleAgg,St],[f["b"].UpdateQaquestion,Ct],[f["b"].QaquestionAddAnswer,xt],[f["b"].QaquestionRefer,wt],[f["b"].QaanswerRefer,Ft],[f["b"].UpvoteQaanswer,It],[f["b"].SubscribeQaquestion,Pt],[f["b"].CommentQaanswer,At],[f["b"].ReplyQaanswerComment,Mt],[f["b"].UpvoteQaanswerComment,Tt],[f["b"].QaanswerCommentRefer,Dt],[f["b"].UserPublishQaanswer,Rt]]);var Lt=function(e,t){try{var n=Ut.get(e.verb);var a=n&&n(e);if(a){return g.a.createElement(Le,{unread:!t},a,g.a.createElement(Ve,null,De()(e.updatedAt*1e3).fromNow()))}return null}catch(e){var r=I["b"].getInstance(Q["a"]);r.error("notification 构造失败",e);return null}};var qt=function(e){var t=e.activity,n=e.haveRead;return Lt(t,n)};var Bt=100;var Wt=Object(b["memo"])(function(l){var e=Object(v["__read"])(Object(h["a"])(se,{scope:ne.Navbar}),1),t=e[0];var n=oe.map(function(e){return{key:e.key,title:g.a.createElement(y["a"],{type:e.icon}),unreadNumber:t.categories[e.key].unreadNumber}});var a=Object(b["useCallback"])(function(e){var t=e.currentTarget;var n=t.scrollTop,a=t.scrollHeight,r=t.clientHeight;var i=a-r;var o=i-Bt;if(n>o&&l.category.hasMore){l.fetchMore(w)}},[l.category,l.fetchMore]);Object(b["useEffect"])(function(){if(l.visible&&l.category.firstLoad){l.fetchMore(w)}},[l.category,l.visible]);Object(b["useEffect"])(function(){return function(){l.visible&&l.markAllRead(l.category.key)}},[l.category.key,l.visible]);return g.a.createElement(Se["a"],null,g.a.createElement(Me,{type:"default",size:de["a"],currentTab:l.category.key,tabs:n,onTabChange:l.onTabChange,tabWidth:160}),g.a.createElement(me,{onScroll:a},l.category.activities.map(function(e){var t=Lt(e,e.haveRead);return t&&g.a.createElement(xe,{key:e.uuid},t)}),!l.category.loading&&!l.category.activities.length&&g.a.createElement(Ce,null,g.a.createElement(Oe["a"],{type:"img",description:"无通知数据"})),l.category.loading&&g.a.createElement(_e["a"],{size:de["b"]})))});var Vt=function(){var e=Object(v["__read"])(Object(h["a"])(se,{scope:ne.Navbar}),2),t=e[0],n=e[1];var a=Object(v["__read"])(Object(b["useState"])(false),2),r=a[0],i=a[1];var o=Object(b["useCallback"])(function(e){if(e){n.getNotifications(w);i(true)}else{n.markAllRead(t.filter);n.clearAllNotifications();i(false)}},[n,t.filter]);Object(b["useEffect"])(function(){n.updateFilter(f["a"].NotificationFromSite);n.getUnreadNumber();n.listenToNotificationInWs()},[n]);return g.a.createElement(Ee,{overlay:g.a.createElement(Wt,{fetchMore:n.getNotifications,markAllRead:n.markAllRead,category:t.categories[t.filter],onTabChange:n.updateFilter,visible:r}),markAllRead:n.markAllRead,onVisibleChange:o},g.a.createElement(C,{numUnread:t.totalUnreadNumber}))};var zt=n("UqMZ");var Qt=n("b63a");var Ht=n("z5yO");var $t=n("U3QC");var Gt=n("mhnT");var Kt=n("L6nh");var Jt=n("8CDz");var Zt=n.n(Jt);var Yt=n("Ctp7");var Xt=n.n(Yt);var en=n("Gn6q");var tn=n.n(en);var nn=n("phD9");var an=n("nsfC");var rn=function(){nn["a"].open({description:g.a.createElement("span",null,"+1 每日登录"),icon:g.a.createElement(an["a"],null)})};var on=function(a){Object(v["__extends"])(e,a);function e(e,t){var n=a.call(this)||this;n.client=e;n.globalDataModule=t;n.defaultState={premiumCreatedAt:0,premiumExpiredAt:0,fetchTplLoading:true,additionalTemplates:[]};return n}e.prototype.noop=function(e){return Object(v["__assign"])({},e)};e.prototype.setPremiumDuration=function(e,t){var n=t.userStatus&&t.userStatus.premiumCreatedAt;var a=t.userStatus&&t.userStatus.premiumExpiredAt;return Object(v["__assign"])(Object(v["__assign"])({},e),{premiumCreatedAt:n||0,premiumExpiredAt:a||0})};e.prototype.setTpls=function(e,t){if(t&&t.allLeetcodePlaygroundTemplates){return Object(v["__assign"])(Object(v["__assign"])({},e),{fetchTplLoading:false,additionalTemplates:t.allLeetcodePlaygroundTemplates})}return Object(v["__assign"])({},e)};e.prototype.getPremiumDuration=function(e){var n=this;return e.pipe(Object(U["a"])(function(){return n.client.query({query:tn.a}).pipe(Object(V["a"])("获取会员开始和到期时间失败"),Object(L["a"])(function(e){var t=e.data;return n.getActions().setPremiumDuration(t)}))}))};e.prototype.dailyCheck=function(e){var t=this;return e.pipe(Object(U["a"])(function(){return t.globalDataModule.getState$().pipe(Object(Qt["a"])(function(e){return!e.globalData}),Object(Ht["a"])(function(e){return!e.globalData.userStatus.checkedInToday}),Object(B["a"])(function(){return t.client.mutate({mutation:Zt.a}).pipe(Object($t["a"])(function(e){var t=e.data;if(t.checkin.checkedIn){rn()}}),Object(L["a"])(function(){return t.getActions().noop()}),Object(Gt["a"])(t.dispose$))}))}))};e.prototype.getTpls=function(e){var n=this;return e.pipe(Object(U["a"])(function(){return n.client.query({query:Xt.a}).pipe(Object(L["a"])(function(e){var t=e.data;return n.getActions().setTpls(t)}),Object(Gt["a"])(n.dispose$))}))};var t,n,r,i,o,l,s,u,c,d,m;Object(v["__decorate"])([Object(P["a"])(),Object(v["__metadata"])("design:type",typeof(t=typeof D["a"]!=="undefined"&&D["a"])==="function"?t:Object)],e.prototype,"dispose$",void 0);Object(v["__decorate"])([Object(P["d"])(),Object(v["__metadata"])("design:type",Function),Object(v["__metadata"])("design:paramtypes",[Object]),Object(v["__metadata"])("design:returntype",void 0)],e.prototype,"noop",null);Object(v["__decorate"])([Object(P["d"])(),Object(v["__metadata"])("design:type",Function),Object(v["__metadata"])("design:paramtypes",[Object,typeof(n=typeof Kt["PremiumCreatedAndExpiredTime"]!=="undefined"&&Kt["PremiumCreatedAndExpiredTime"].Query)==="function"?n:Object]),Object(v["__metadata"])("design:returntype",Object)],e.prototype,"setPremiumDuration",null);Object(v["__decorate"])([Object(P["d"])(),Object(v["__metadata"])("design:type",Function),Object(v["__metadata"])("design:paramtypes",[Object,typeof(r=typeof Kt["FetchAllLeetcodeTemplates"]!=="undefined"&&Kt["FetchAllLeetcodeTemplates"].Query)==="function"?r:Object]),Object(v["__metadata"])("design:returntype",void 0)],e.prototype,"setTpls",null);Object(v["__decorate"])([Object(P["b"])(),Object(v["__metadata"])("design:type",Function),Object(v["__metadata"])("design:paramtypes",[typeof(i=typeof D["a"]!=="undefined"&&D["a"])==="function"?i:Object]),Object(v["__metadata"])("design:returntype",typeof(o=typeof D["a"]!=="undefined"&&D["a"])==="function"?o:Object)],e.prototype,"getPremiumDuration",null);Object(v["__decorate"])([Object(P["b"])(),Object(v["__metadata"])("design:type",Function),Object(v["__metadata"])("design:paramtypes",[typeof(l=typeof D["a"]!=="undefined"&&D["a"])==="function"?l:Object]),Object(v["__metadata"])("design:returntype",typeof(s=typeof D["a"]!=="undefined"&&D["a"])==="function"?s:Object)],e.prototype,"dailyCheck",null);Object(v["__decorate"])([Object(P["b"])(),Object(v["__metadata"])("design:type",Function),Object(v["__metadata"])("design:paramtypes",[typeof(u=typeof D["a"]!=="undefined"&&D["a"])==="function"?u:Object]),Object(v["__metadata"])("design:returntype",typeof(c=typeof D["a"]!=="undefined"&&D["a"])==="function"?c:Object)],e.prototype,"getTpls",null);e=Object(v["__decorate"])([Object(I["a"])(),Object(v["__metadata"])("design:paramtypes",[typeof(d=typeof z["a"]!=="undefined"&&z["a"])==="function"?d:Object,typeof(m=typeof E["GlobalDataModule"]!=="undefined"&&E["GlobalDataModule"])==="function"?m:Object])],e);return e}(A["a"]);var ln=n("nnRT");var sn=n.n(ln);var un=n("nPqx");var cn=n("sYqU");var dn={width:"150px",height:"100px",borderRadius:"3px",transition:"0.18s border-color ease-in-out",img:{width:"100%",height:"100%",borderRadius:"3px"}};var mn=Object(_["default"])("div",{target:"e1t784ml0"})(Object(v["__assign"])(Object(v["__assign"])({},dn),{border:"1px dashed "+j["a"].dblue2,backgroundColor:j["a"].grey0,color:j["a"].dblue3,display:"flex",justifyContent:"center",alignItems:"center",fontSize:"24px",transition:"0.18s color ease-in-out",cursor:"pointer","&:hover":{color:j["a"].dblue6,borderColor:j["a"].dblue6}}),"label:NewCard;");var pn=Object(_["default"])("div",{target:"e1t784ml1"})(Object(v["__assign"])({},dn),"label:TypeCard;");var fn=Object(_["default"])("div",{target:"e1t784ml2"})({lineHeight:"40px",textAlign:"center"},"label:CardName;");var vn=Object(_["default"])("a",{target:"e1t784ml3"})({color:j["a"].dark1,flex:"0 0 100px",marginTop:"20px","&:visited, &:hover, &:active, &:focus":{color:j["a"].dark1,textDecoration:"none"}},"label:Wrapper;");var bn=n("wJz1");var gn=n.n(bn);var hn=n("cuV4");var yn=n.n(hn);var kn=n("aDWd");var En=n.n(kn);var Sn=n("bcHh");var On=n.n(Sn);var _n=n("ypvL");var jn=n.n(_n);var Nn={empty:yn.a,ml:On.a,react:jn.a,"linked-list":En.a,"binary-tree":gn.a};var xn=Object(b["memo"])(function(e){var t=Object(b["useCallback"])(function(){return e.onClick(e.type.nameSlug)},[e.onClick,e.type.nameSlug]);return g.a.createElement(vn,{href:cn["a"].newPlayground(e.type.nameSlug),target:"_blank",onClick:t,key:e.type.nameSlug},e.type.isNew?g.a.createElement(mn,null,"+"):g.a.createElement(pn,null,g.a.createElement("img",{src:Nn[e.type.nameSlug],alt:e.type.name})),g.a.createElement(fn,null,e.type.name))});var Cn=Object(_["default"])("div",{target:"edpy0400"})({display:"flex",flexDirection:"column",margin:"10px 0 30px 0",padding:"20px"},"label:CategoryWrapper;");var wn=Object(_["default"])("div",{target:"edpy0401"})({fontSize:"16px",color:j["a"].dark4},"label:CategoryName;");var Fn=Object(_["default"])("div",{target:"edpy0402"})({display:"flex",justifyContent:"space-between",flexWrap:"wrap"},"label:CategoryTypes;");var In=Object(_["default"])("div",{target:"edpy0403"})({padding:"0 20px",display:"flex",alignItems:"center",borderBottom:"1px solid "+j["a"].dark8,color:j["a"].dblue6,cursor:"pointer",transition:"0.18s color ease-in-out","&:hover":{color:j["a"].dblue9}},"label:PlaygroundLinkInnerWrapper;");var Pn=Object(_["default"])("div",{target:"edpy0404"})({flex:"1 1 auto",fontSize:"16px",lineHeight:"56px"},"label:PlaygroundLink;");var An=Object(we["a"])(function(e,t){return[{slug:"console-application",name:"控制台程序",types:Object(v["__spread"])([{name:"空白 Playground",nameSlug:"empty",isNew:true}],t)},{slug:"frontend",name:"前端程序",types:[{name:"React",nameSlug:"react",usePng:true}]},{slug:"machine-learning",name:"机器学习",types:[{name:"机器学习",nameSlug:"ml",usePng:true}],displayCondition:e}]},sn.a);var Mn=function(t){Object(v["__extends"])(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.handlePlaygroundSelected=function(){return e.props.onClose()};return e}Object.defineProperty(e.prototype,"playgroundCategories",{get:function(){return An(!!this.context.isAdmin,this.props.additionalTemplates)},enumerable:true,configurable:true});e.prototype.render=function(){return g.a.createElement(un["a"],{visible:this.props.visible,onClose:this.props.onClose,title:"Playground",width:570,hasFooter:false},g.a.createElement("a",{href:"/playground/",target:"_blank",onClick:this.props.onClose},g.a.createElement(In,null,g.a.createElement(Pn,null,"我的 Playgrounds"),g.a.createElement(y["a"],{type:"angle-right"}))),this.renderPlaygroundCategories())};e.prototype.renderPlaygroundTypes=function(e){var t=this;return e.map(function(e){return g.a.createElement(xn,{key:e.nameSlug,type:e,onClick:t.handlePlaygroundSelected})})};e.prototype.renderPlaygroundCategories=function(){var t=this;if(this.props.loading){return g.a.createElement(_e["a"],{size:"md"})}return this.playgroundCategories.filter(function(e){return e.displayCondition!==false}).map(function(e){return g.a.createElement(Cn,{key:"category-"+e.name},g.a.createElement(wn,null,e.name),g.a.createElement(Fn,null,t.renderPlaygroundTypes(e.types)))})};e.contextType=E["userContext"];return e}(b["PureComponent"]);var Tn=g.a.memo(function(e){var t=e.width,n=e.height,a=e.startColor,r=e.endColor,i=Object(v["__rest"])(e,["width","height","startColor","endColor"]);return g.a.createElement("svg",Object(v["__assign"])({width:t,height:n,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},i),g.a.createElement("defs",null,g.a.createElement("linearGradient",{id:"vip-mark-gradient",gradientTransform:"rotate(45)"},g.a.createElement("stop",{offset:"0%",stopColor:a}),g.a.createElement("stop",{offset:"100%",stopColor:r}))),g.a.createElement("path",{fill:"url(#vip-mark-gradient)",d:"M17,3 C18.1,3 19,3.9 19,5 L19,21 L12,18 L5,21 L5.01,5 C5.01,3.9 5.9,3 7,3 L17,3 Z M16,8 L13.697,8 L11.999,10.969 L10.303,8 L8,8 L11.999,15 L16,8 Z"}))});var Dn=n("WqTL");var Rn={favList:cn["a"].myFavList,playground:cn["a"].myPlayground,notes:cn["a"].myNotes,submissions:cn["a"].mySubmissions,sessions:cn["a"].mySessions,articles:cn["a"].myArticles,orders:cn["a"].myOrders,progress:cn["a"].myProgress,points:cn["a"].myPoints,signOut:cn["a"].signOut};var Un=n("z/Ec");var Ln=Object(_["default"])("div",{target:"e6psssg0"})({width:"270px",padding:"0 10px 0 15px",display:"flex",flexDirection:"column",alignItems:"center"},function(e){var t=e.isPremium;return t?{height:"76px",borderBottom:"1px solid "+j["a"].grey2,backgroundImage:"linear-gradient(135deg, "+j["a"].white+" 0%, "+j["a"].brown0+" 100%)"}:{height:"44px",borderBottom:"1px solid "+j["a"].brown0,backgroundImage:"linear-gradient(135deg, "+j["a"].white+" 0%, "+j["a"].grey0+" 100%)"}},"label:Wrapper;");var qn=Object(_["default"])("div",{target:"e6psssg1"})({width:"100%",height:"44px",display:"flex",alignItems:"center",justifyContent:"space-between","div svg":{fontSize:"20px"},span:{fontSize:"13px"}},function(e){var t=e.isPremium;return t?{span:{color:j["a"].brown5},"> svg":{color:j["a"].brown2},"&:hover":{color:j["a"].brown6,"& > svg":{color:j["a"].brown4}}}:{span:{color:j["a"].grey8},svg:{color:j["a"].grey4},"div svg:hover":{color:j["a"].grey5},"&:hover":{span:{color:j["a"].black},"& > svg":{color:j["a"].dblue9}}}},"label:UserNameWrapper;");var Bn=Object(_["default"])("div",{target:"e6psssg2"})({display:"flex",alignItems:"center",".ant-popover":{".ant-popover-content":{".ant-popover-arrow":{borderTopColor:j["a"].black},".ant-popover-inner":{background:j["a"].black,".ant-popover-inner-content":{color:j["a"].white,padding:"7px 10px",fontSize:"12px"}}}}},"label:PopoverWrapper;");var Wn=Object(_["default"])("div",{target:"e6psssg3"})({display:"flex",alignItems:"center",span:Object(v["__assign"])({fontSize:"12px",lineHeight:"44px",marginLeft:"5px"},Ie["c"])},"label:UserNameInner;");var Vn=Object(_["default"])(y["a"],{target:"e6psssg4"})({fontSize:"24px",flex:"0 0 auto",color:j["a"].dblue1},"label:UserArrowIcon;");var zn=Object(_["default"])("div",{target:"e6psssg5"})({color:j["a"].brown3},"label:UserExpiredTime;");var Qn=Object(_["default"])("div",{target:"e6psssg6"})({width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"12px"},"label:TimeWrapper;");var Hn=Object(_["default"])("div",{target:"e6psssg7"})({width:"40px",height:"25px",color:j["a"].brown4,borderRadius:"3px",display:"flex",alignItems:"center",justifyContent:"center",":hover":{color:j["a"].brown6,background:j["a"].brown1}},"label:RefillButton;");var $n=function(e){var t=Math.floor(e/(3600*24));var n=Math.floor(e%(3600*24)/3600);var a=Math.floor(e%3600/60);var r=t?t+" 天 ":"";var i=t||n?n+" 小时 ":"";var o=t||n||a?a+" 分":"";return r+i+o};var Gn=function(e,t,n){var a=0;var r="";var i=Date.now();if(e&&t&&n&&t>n&&t>i){var o=Math.round((t-n)/1e3);var l=Math.round((t-i)/1e3);a=Math.round((o-l)*100/o);r=$n(l)}return{percent:a,timeRemain:r}};var Kn=g.a.memo(function(e){var t=e.isPremium,n=e.realName;var a=Object(v["__read"])(Object(h["a"])(on),2),r=a[0],i=a[1];var o=Object(v["__read"])(Object(h["a"])(E["GlobalDataModule"]),1),l=o[0].globalData;Object(b["useEffect"])(function(){if(t)i.getPremiumDuration()},[t]);var s=Object(b["useMemo"])(function(){var e=function(e){e.preventDefault();e.stopPropagation()};var t=function(){window.location.href="/premium";S["a"].navbar.vipIconClicked()};var n=function(e){e.preventDefault();e.stopPropagation();window.location.href="/premium";S["a"].navbar.refillClicked()};var a=function(e){return e.parentElement};return{onPopoverClick:e,onVipIconClick:t,onRefillClick:n,getPopupContainer:a}},[]),u=s.onPopoverClick,c=s.onRefillClick,d=s.onVipIconClick,m=s.getPopupContainer;var p=Gn(t,r.premiumExpiredAt,r.premiumCreatedAt).timeRemain;var f=l&&l.feature&&l.feature.subscription;return g.a.createElement(Ln,{isPremium:t},g.a.createElement(qn,{isPremium:t},g.a.createElement(Wn,null,f&&g.a.createElement(Bn,{onClick:u},g.a.createElement(Un["a"],{content:t?"力扣经典会员":"订阅经典会员",placement:"top",getPopupContainer:m},t?g.a.createElement(Tn,{width:20,height:20,startColor:k["brown2"],endColor:k["brown6"],onClick:d}):g.a.createElement(y["a"],{type:"vip-mark",onClick:d}))),g.a.createElement("span",null,n)),g.a.createElement(Vn,{type:"angle-right"})),t&&g.a.createElement(Qn,null,g.a.createElement(zn,null,"会员剩余："+p),g.a.createElement(Hn,{onClick:c},"续订")))});var Jn;var Zn={display:"flex",alignItems:"center",width:"100%",height:"100%"};var Yn={transition:"color 0.18s ease-in-out",display:"flex",color:j["a"].dblue6,alignItems:"center",flex:"1 1 auto",fontSize:"13px"};var Xn=Object(_["default"])("div",{target:"e152d96p0"})(function(e){var t=e.isPremium;return{background:"transparent",position:"absolute",top:"-6px",left:"227px",borderTopLeftRadius:"4px",borderWidth:"0 8px 6px",borderBottomColor:t?j["a"].brown0:j["a"].white,borderStyle:"solid",color:"transparent",zIndex:1}},"label:UserMenuArrow;");var ea=Object(_["default"])(l["a"],{target:"e152d96p1"})({width:"270px",padding:0,"& > .ant-dropdown-menu-item":{height:"44px","&:first-of-type":{height:"auto",padding:0,a:{padding:0,margin:0}}},"& > li":{position:"relative"}},"label:Menu;");var ta=Object(_["default"])("div",{target:"e152d96p2"})(Object(v["__assign"])(Object(v["__assign"])({},Zn),{boxShadow:"inset 0 -1px 0 0 @dark-8"}),"label:UserItem;");var na=Object(_["default"])("div",{target:"e152d96p3"})(Object(v["__assign"])(Object(v["__assign"])({},Yn),{justifyContent:"space-between"}),"label:UserItemContent;");var aa=Object(_["default"])("div",{target:"e152d96p4"})({color:j["a"].yellowA3},"label:PremiumUserName;");var ra=Object(_["default"])("div",{target:"e152d96p5"})({color:j["a"].dark1},"label:UserName;");var ia=Object(_["default"])("div",{target:"e152d96p6"})(Object(v["__assign"])({},Zn),"label:MenuItemInnerWrapper;");var oa=Object(_["default"])(y["a"],{target:"e152d96p7"})({transition:"color 0.18s ease-in-out",flex:"0 0 auto",color:j["a"].dblue3,fontSize:"20px",marginRight:"15px"},"label:MenuItemIcon;");var la=Object(_["default"])("div",{target:"e152d96p8"})(Object(v["__assign"])({},Yn),"label:ItemContent;");var sa={"& > .ant-dropdown-menu-item":{height:"46px"},"&:hover":(Jn={},Jn[""+oa]={color:j["a"].dblue7},Jn[""+la]={color:j["a"].dblue9},Jn),"&:visited, &:active, &:focus":{textDecoration:"none",color:j["a"].dblue6}};var ua=Object(_["default"])("a",{target:"e152d96p9"})(Object(v["__assign"])({},sa),"label:UserMenuLink;");var ca=Object(_["default"])("div",{target:"e152d96p10"})(Object(v["__assign"])({},sa),"label:UserMenuItem;");var da=l["a"].Item;var ma="switch";var pa="switch-to-new";var fa=[{key:ma,displayCondition:function(){return window.location.pathname.startsWith("/problems")&&!window.location.pathname.startsWith("/problemset")},nonLink:true,icon:"switch",display:"切换到旧版本"},{key:pa,displayCondition:function(){return window.location.pathname.startsWith("/classic")},nonLink:true,icon:"switch",display:"切换到新版本"},{key:"favList",icon:"favorite-o",display:"收藏列表"},{key:"playground",icon:"playground",display:"我的 Playground"},{key:"notes",icon:"note",display:"笔记本"},{key:"submissions",icon:"clock",display:"提交记录"},{key:"articles",icon:"article",display:"我的题解"},{key:"sessions",icon:"bar-chart",display:"选择进度"},{key:"progress",display:"进展分析",icon:"pie-chart-o"},{key:"points",display:"积分",icon:"points"},{key:"signOut",display:"退出",icon:"signout"}];var va=function(e){Object(v["__extends"])(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;n.onClickItem=function(e){var t=e.key;if(t===ma){Object(Dn["a"])(true);window.location.href="/classic"+window.location.pathname}else if(t===pa){Object(Dn["a"])(false);window.location.href=window.location.pathname.substr(8)}n.props.onClick&&n.props.onClick()};return n}t.prototype.render=function(){var t=this;var e=this.props,n=e.onClick,a=Object(v["__rest"])(e,["onClick"]);var r=this.context,i=r.isPremium,o=r.userSlug,l=r.realName;return g.a.createElement(g.a.Fragment,null,g.a.createElement(Xn,{isPremium:i}),g.a.createElement(ea,Object(v["__assign"])({},a,{onClick:this.onClickItem}),g.a.createElement(da,{key:"profile"},g.a.createElement("a",{href:c["a"].main.paths.publicProfile.home({userSlug:o}),target:"_blank"},g.a.createElement(Kn,{isPremium:i,realName:l||null}))),fa.filter(function(e){return!e.displayCondition||e.displayCondition()}).map(function(e){return t.renderMenuItem(e)})))};t.prototype.renderMenuItem=function(e){var t=g.a.createElement(ia,null,g.a.createElement(oa,{type:e.icon}),g.a.createElement(la,null,e.display));return g.a.createElement(da,{key:e.key},e.nonLink?g.a.createElement(ca,null,t):g.a.createElement(ua,{href:Rn[e.key]},t))};t.contextType=E["userContext"];return t}(b["PureComponent"]);var ba=n("5oqr");var ga=n("b69p");var ha=g.a.memo(function(e){var t=e.width,n=e.height,a=e.startColor,r=e.endColor,i=Object(v["__rest"])(e,["width","height","startColor","endColor"]);return g.a.createElement("svg",Object(v["__assign"])({width:t,height:n,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},i),g.a.createElement("defs",null,g.a.createElement("linearGradient",{id:"vip-gradient",gradientTransform:"rotate(45)"},g.a.createElement("stop",{offset:"0%",stopColor:a}),g.a.createElement("stop",{offset:"100%",stopColor:r}))),g.a.createElement("path",{fill:"url(#vip-gradient)",d:"M12,2 C17.52,2 22,6.48 22,12 C22,17.52 17.52,22 12,22 C6.48,22 2,17.52 2,12 C2,6.48 6.48,2 12,2 Z M18,8 L14.5455,8 L11.9985,12.4535 L9.4545,8 L6,8 L11.9985,18.5 L18,8 Z"}))});var ya=Object(_["default"])("div",{target:"e1jakov00"})({position:"relative",padding:"1px",borderRadius:"100%",background:"linear-gradient(to bottom right, "+k["brown1"]+", "+k["brown5"]+")"},"label:AvatarWrapper;");var ka=Object(_["default"])("div",{target:"e1jakov01"})({width:"14px",height:"14px",padding:"1px",background:k["white"],position:"absolute",bottom:"-3px",right:"-6px",borderRadius:"100%"},"label:AvatarIconWrapper;");var Ea=g.a.memo(function(e){var t=e.isPremium,n=Object(v["__rest"])(e,["isPremium"]);if(t){return g.a.createElement(ya,null,g.a.createElement(ba["a"],Object(v["__assign"])({},n)),g.a.createElement(ka,null,g.a.createElement(ha,{width:12,height:12,startColor:k["brown2"],endColor:k["brown5"]})))}else{return g.a.createElement(ba["a"],Object(v["__assign"])({},n))}});var Sa=u["a"].Menu;var Oa=function(){return[{key:"redeem",linkProps:{href:cn["a"].redeem,style:{color:j["a"].yellowA3}},display:"力扣周边"},{key:"translation",linkProps:{href:cn["a"].premium,style:{color:j["a"].yellowA3}},display:"会员中心"}]};var _a=function(e){return g.a.createElement(Sa,Object(v["__assign"])({},e),Oa().map(function(e){var t=e.display,n=e.key,a=e.linkProps;return g.a.createElement(Sa.Item,{key:n},g.a.createElement("a",Object(v["__assign"])({},a),t))}))};var ja=u["a"].Menu;var Na=function(e){var t=e.userStatus,n=t.isTranslator,a=t.isSuperuser;var r=e.feature.questionTranslation;return[{key:"library",linkProps:{href:cn["a"].admin.library},display:"题库",displayCondition:!n},{key:"translation",linkProps:{href:cn["a"].admin.translation},display:"翻译",displayCondition:r&&(n||a)},{key:"review",linkProps:{href:cn["a"].admin.review},display:"内容审核",displayCondition:a},{key:"points",linkProps:{href:cn["a"].admin.points},display:"点数",displayCondition:a},{key:"contribution",linkProps:{href:cn["a"].admin.contribution},display:"贡献"},{key:"danger-zone",linkProps:{href:cn["a"].admin.dangerZone,style:{color:j["a"].red5}},display:"危险区域",displayCondition:a},{key:"administration",linkProps:{href:cn["a"].admin.administration},display:g.a.createElement(g.a.Fragment,null,g.a.createElement(y["a"],{style:{marginRight:"3px"},type:"settings"}),"后台管理"),displayCondition:a}]};var xa=Object(b["memo"])(function(e){var t=Object(v["__read"])(Object(h["a"])(E["GlobalDataModule"]),1),n=t[0];if(!n.globalData){return null}return g.a.createElement(ja,Object(v["__assign"])({},e),Na(n.globalData).filter(function(e){var t=e.displayCondition;return t!==false}).map(function(e){var t=e.display,n=e.key,a=e.linkProps;return g.a.createElement(ja.Item,{key:n},g.a.createElement("a",Object(v["__assign"])({},a),t))}))});var Ca=n("IDXw");var wa=Object(_["default"])(y["a"],{target:"ergbin80"})({fontSize:"20px",color:j["a"].dblue3,cursor:"pointer",transition:"0.18s color ease-in-out","&:hover":{color:j["a"].dblue6}},"label:NavbarIcon;");var Fa=Object(_["default"])("div",{target:"ergbin81"})({width:"100%",height:"44px",borderBottom:"1px solid "+j["a"].grey2,display:"flex",alignItems:"stretch",justifyContent:"center",fontSize:"13px",background:j["a"].white,minWidth:Ca["b"]},"label:NavWrapper;");var Ia=Object(_["default"])("nav",{target:"ergbin82"})(function(e){var t=e.fluid;return{display:"flex",justifyContent:"space-between",minWidth:Ca["b"],maxWidth:t?"unset":Ca["a"],width:"100%",flexWrap:"nowrap",padding:"0 20px"}},"label:NavContainer;");var Pa=Object(_["default"])("div",{target:"ergbin83"})({display:"flex",flexWrap:"nowrap",heigth:"100%",alignItems:"center"},"label:NavbarMenu;");var Aa=Object(_["default"])("ul",{target:"ergbin84"})({display:"flex",flexWrap:"nowrap",heigth:"100%",alignItems:"center",marginBottom:"0",padding:"0"},"label:NavbarList;");var Ma=Object(_["default"])("li",{target:"ergbin85"})({height:"20px",lineHeight:"20px",marginRight:"20px",color:j["a"].dblue6,cursor:"pointer",listStyle:"none","&:hover":{color:j["a"].dblue9},a:{display:"block",height:"100%",width:"auto",lineHeight:"inherit"},img:{verticalAlign:"top",height:"20px"},svg:{fontSize:"18px",lineHeight:"inherit",verticalAlign:"top"}},"label:NavbarListItem;");var Ta=Object(_["default"])("div",{target:"ergbin86"})({height:"22px",lineHeight:"22px",marginRight:"20px",color:j["a"].dblue3,cursor:"pointer","&:nth-last-of-type(1)":{marginRight:0},"&:hover":{color:j["a"].dblue6},a:{display:"block",height:"100%",width:"auto",lineHeight:"inherit",color:j["a"].dblue3,"&:hover":{color:j["a"].dblue6}},"svg, a svg":{fontSize:"20px",lineHeight:"inherit",verticalAlign:"top"},".ant-avatar":{display:"block"}},"label:NavbarMenuIconItem;");var Da={color:j["a"].yellowA3,display:"flex",justifyContent:"space-between",alignItems:"center"};var Ra=Object(_["default"])("div",{target:"ergbin87"})({width:"1px",height:"20px",backgroundColor:j["a"].dark8},"label:NavItemDivider;");var Ua=Object(_["default"])("div",{target:"ergbin88"})({marginLeft:"20px",display:"flex","& > a":{color:j["a"].dblue4,transition:"0.18s color ease-in-out","&:hover":{color:j["a"].dblue9}}},"label:AuthLinks;");var La=Object(_["default"])("div",{target:"ergbin89"})({margin:"0 15px",color:j["a"].dark7},"label:AuthLinkDivider;");var qa=Object(_["default"])(d["Button"],{target:"ergbin810"})({marginRight:"10px"},"label:AppButton;");var Ba=Object(_["default"])("div",{target:"ergbin811"})({display:"flex",alignItems:"center",height:"26px",fontWeight:500,cursor:"pointer",fontSize:"12px",lineHeight:"18px",background:"linear-gradient(-180deg, "+j["a"].white+" 0%, "+j["a"].grey0+" 100%)",border:"1px solid "+j["a"].brown1,borderRadius:"3px",padding:"5px 8px 5px 5px",marginRight:"25px",color:j["a"].brown5,transition:".3s border-color","&:hover":{borderColor:j["a"].brown5},"&:active":{borderColor:j["a"].brown1},"&:focus":{outline:"none"},svg:{marginRight:"3px"}},"label:PromoteButton;");var Wa=n("ULPy");var Va=n.n(Wa);var za=function(e){return[{key:"logo",display:g.a.createElement("a",{href:cn["a"].home},g.a.createElement("img",{src:Va.a,alt:"logo"}))},{key:"explore",display:g.a.createElement("a",{href:cn["a"].explore},"探索")},{key:"problems",display:g.a.createElement("a",{href:cn["a"].problems},"题库")},{key:"discuss",display:g.a.createElement("a",{href:c["a"].main.PATH.discuss.home},"圈子"),displayCondition:e.feature.discuss},{key:"contest",display:g.a.createElement("a",{href:cn["a"].contest},"竞赛"),displayCondition:e.feature.contest},{key:"interview",display:g.a.createElement("a",{href:cn["a"].interview},"面试")},{key:"jobs",display:g.a.createElement("a",{href:cn["a"].jobs},"职位"),displayCondition:e.feature.cnJobs},{key:"redeem",display:Object(a["a"])()?g.a.createElement("a",{href:cn["a"].redeem},"商店"):g.a.createElement(u["a"],{overlay:g.a.createElement(_a,null)},g.a.createElement("div",{style:Da},g.a.createElement(y["a"],{type:"store"}),"商店",g.a.createElement(y["a"],{style:{width:"14px",height:"14px"},type:"caret-down"}))),displayCondition:e.feature.store},{key:"admin-list",display:g.a.createElement(u["a"],{overlay:g.a.createElement(xa,null)},"管理员",g.a.createElement(y["a"],{style:{width:"14px",height:"14px"},type:"caret-down"})),displayCondition:e.userStatus.isAdmin}]};var Qa=false;var Ha=function(e){Object(v["__extends"])(t,e);function t(){var i=e!==null&&e.apply(this,arguments)||this;i.state={fetchTplLoading:false,modalVisible:false,langMenuVisible:false};i.renderModal=function(){return g.a.createElement(Mn,{loading:i.state.fetchTplLoading,visible:i.state.modalVisible,onClose:i.onClose,additionalTemplates:i.props.additionalTemplates})};i.showPlaygroundModal=function(){return i.setState({modalVisible:true})};i.onClose=function(){return i.setState({modalVisible:false})};i.handlePromoteClick=function(){S["a"].navbar.promoteButtonClicked()};i.onLangMenuVisibleChange=function(e){return i.setState({langMenuVisible:!!e})};i.onClickLang=function(e){var t=e.key;var n=t==="chinese";if(n!==!!i.props.global.userStatus.useTranslation){i.props.updateTranslation(t==="chinese")}};i.renderTranslateButton=function(){var e=window.location.href;var t=new RegExp(window.location.host+"/contest/.*?/problems/");if(t.test(e))return null;var n=i.state.langMenuVisible;var a=i.props.global.userStatus.useTranslation?"chinese":"english";var r=g.a.createElement(l["a"],{onClick:i.onClickLang},g.a.createElement(l["a"].Item,{key:"chinese"},"题目以中文显示"),g.a.createElement(l["a"].Item,{key:"english"},"题目以英文显示"));return g.a.createElement(Ta,null,g.a.createElement(u["a"],{trigger:["click"],placement:"bottomCenter",overlay:r,onVisibleChange:i.onLangMenuVisibleChange},g.a.createElement(wa,{type:a}),g.a.createElement(y["a"],{type:n?"caret-up":"caret-down"})))};i.renderPromoteButton=function(){var e=i.props.global;if(!e.feature||!e.feature.subscription){return null}return g.a.createElement("a",{href:c["a"].main.PATH.premium.home,onClick:i.handlePromoteClick},g.a.createElement(Ba,null,g.a.createElement(Tn,{width:18,height:18,startColor:k["brown2"],endColor:k["brown6"]}),g.a.createElement("span",null,"会员中心")))};i.renderSignedInItems=function(){var e=i.props.global;var t=e.userStatus.isPremium;return g.a.createElement(g.a.Fragment,null,g.a.createElement(Ta,null,g.a.createElement(Vt,null)),g.a.createElement(Ta,{"data-tour-index":"6"},g.a.createElement(u["a"],{overlay:g.a.createElement(va,null),trigger:["click"],placement:"bottomRight",align:{points:["tr","br"],offset:[24,16]}},g.a.createElement(Ea,{isPremium:!!t,size:20,src:e.userStatus.avatar}))))};i.renderAuthenticationItems=function(){return!i.isSignInPage&&g.a.createElement(g.a.Fragment,null,g.a.createElement(Ra,null),g.a.createElement(Ua,null,g.a.createElement("a",{onClick:zt["a"].signUp},"注册"),g.a.createElement(La,null,"或"),g.a.createElement("a",{onClick:zt["a"].signIn},"登录")))};return i}Object.defineProperty(t.prototype,"isSignInPage",{get:function(){return Object(r["c"])(window.location.pathname,{path:"/accounts/(login|signup)"})},enumerable:true,configurable:true});t.prototype.componentDidMount=function(){this.props.fetchGlobalData();this.props.dailyCheck();this.props.getTpls()};t.prototype.componentWillUnmount=function(){this.props.dispose$()};t.prototype.render=function(){var e=this.props.global;if(!e)return null;var t=e.userStatus&&e.userStatus.isPremium;var n=e.userStatus&&e.userStatus.isSignedIn;return g.a.createElement(he.Provider,{value:{isNoj:!!this.props.isNoj}},g.a.createElement(Fa,{id:this.props.id},g.a.createElement(Ia,{fluid:this.props.fluid},g.a.createElement(Aa,null,za(e).filter(function(e){return e.displayCondition!==false}).map(function(e){var t=e.display,n=e.key;return g.a.createElement(Ma,{key:n},t)})),g.a.createElement(Pa,null,Qa&&g.a.createElement(qa,{kind:"border",size:"sm",prefixIcon:g.a.createElement(d["Icon"].Phone,null),href:c["a"].main.PATH.app},"下载 App"),t?null:this.renderPromoteButton(),n&&this.renderTranslateButton(),g.a.createElement(Ta,null,g.a.createElement(i["a"],{title:"新建 Playground"},g.a.createElement(wa,{type:"playground-new",onClick:this.showPlaygroundModal}))),n?this.renderSignedInItems():this.renderAuthenticationItems())),this.renderModal()))};return t}(g.a.PureComponent);var $a=Object(b["memo"])(function(e){var t=Object(v["__read"])(Object(h["a"])(on),2),n=t[0],a=t[1];var r=Object(v["__read"])(Object(h["a"])(E["GlobalDataModule"]),2),i=r[0],o=r[1];return g.a.createElement(Ha,Object(v["__assign"])({},e,n,a,{global:i.globalData,fetchGlobalData:o.fetchGlobalData,updateTranslation:o.updateTranslation}))});var Ga=n("7nmT");var Ka=n.n(Ga);var Ja=n("pu3o");var Za=n.n(Ja);var Ya=n("CINk");var Xa=n("7RRJ");var er=n("3dHC");var tr=n.n(er);function nr(e,t){if(!e||!e.feature){return true}return e.feature[t]===false}function ar(e,t){if(e&&e.userStatus&&e.userStatus.isSignedIn){var n=e.userStatus.useTranslation;var a=window.location.href;var r=new RegExp(window.location.host+"/contest/.*?/problems/");var i=r.test(a)?null:{key:"switch_question_language",display:n?"题目以英文显示":"题目以中文显示",icon:n?"english":"chinese",isShowLine:true,linkProps:{onClick:function(){t(!n)}}};var o={key:"switch_to_old_version",display:"切换到旧版本",icon:"switch",isHide:false,linkProps:{onClick:function(){var e=window.location.pathname;Object(Dn["a"])(true);window.location.href="/classic"+e}}};var l=fa.filter(function(e){var t=e.key;return!!Rn[t]}).map(function(e){var t=e.key,n=e.icon,a=e.display,r=e.displayCondition;return{key:"user_"+t,icon:n,display:a,isHide:r?!r():false,linkProps:{href:Rn[t],"data-highlight":t==="sign-out"?"red":undefined}}});return tr()(Object(v["__spread"])([i,o],l))}else{return[]}}function rr(e){if(e&&e.userStatus&&e.userStatus.isAdmin){return Na(e).map(function(e,t){var n=e.key,a=e.display,r=e.displayCondition;return{key:"admin_"+n,display:a,isShowLine:t===0,isHide:r===false,linkProps:{href:cn["a"].admin[n],"data-highlight":"red"}}})}else{return[]}}var ir=function(e,t){return Object(v["__spread"])([{key:"explore",display:"探索",isHide:false,linkProps:{href:cn["a"].explore}},{key:"problems",display:"题库",linkProps:{href:cn["a"].problems}},{key:"contest",display:"竞赛",isShowLine:true,isHide:nr(e,"contest"),linkProps:{href:cn["a"].contest}},{key:"discuss",display:"圈子",linkProps:{href:cn["a"].circle}},{key:"redeem",display:"兑换",isShowLine:true,isHide:nr(e,"store"),linkProps:{href:cn["a"].redeem,"data-highlight":"yellow"}}],rr(e),ar(e,t))};var or=n("joW0");var lr=n.n(or);var sr=function(t){Object(v["__extends"])(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.menuRef=g.a.createRef();return e}e.prototype.componentDidMount=function(){Xa["a"].prepare();this.disableScrollIfNeed();this.props.fetchGlobalData()};e.prototype.componentDidUpdate=function(){this.disableScrollIfNeed()};e.prototype.componentWillUnmount=function(){this.disableScrollIfNeed(false)};Object.defineProperty(e.prototype,"isSignedIn",{get:function(){var e=this.props.global;return!!(e&&e.userStatus&&e.userStatus.isSignedIn)},enumerable:true,configurable:true});e.prototype.disableScrollIfNeed=function(e){if(e===void 0){e=this.props.isShow}if(this.menuRef.current){if(e){Object(Ya["disableBodyScroll"])(this.menuRef.current)}else{Object(Ya["enableBodyScroll"])(this.menuRef.current)}}else{Object(Ya["clearAllBodyScrollLocks"])()}};e.prototype.renderSignIn=function(){var e=window.location.pathname+window.location.search;var t=Za.a.stringify({next:e});return g.a.createElement("div",{className:lr.a.signInArea},g.a.createElement("a",{href:cn["a"].signIn(e),className:lr.a.link},"登录"),"or",g.a.createElement("a",{href:cn["a"].signUp+"?"+t,className:lr.a.link},"注册"))};e.prototype.renderUserProfile=function(){var e=this.props.global;if(!e||!e.userStatus)return null;return g.a.createElement("a",{className:lr.a.userProfileArea,href:cn["a"].userProfile(e.userStatus.userSlug)},g.a.createElement("img",{alt:e.userStatus.username+"'s avatar",className:lr.a.avatar,src:e.userStatus.avatar||""}),g.a.createElement("div",{className:lr.a.username,"data-is-premium":e.userStatus.isPremium},g.a.createElement(y["a"],{type:"mark-star",className:lr.a.icon}),g.a.createElement("span",null,e.userStatus.username)))};e.prototype.renderItems=function(){return g.a.createElement("div",{className:lr.a.itemsArea},ir(this.props.global,this.props.updateTranslation).map(function(e){var t=e.isHide,n=e.isShowLine,a=e.display,r=e.icon,i=e.key,o=e.linkProps;return g.a.createElement(g.a.Fragment,{key:i},n&&g.a.createElement("hr",null),!t&&g.a.createElement("a",Object(v["__assign"])({},o,{className:lr.a.item}),r&&g.a.createElement(y["a"],{type:r,className:lr.a.icon}),g.a.createElement("span",null,a)))}))};e.prototype.render=function(){return Ka.a.createPortal(g.a.createElement("div",{className:lr.a.container,"data-is-show":this.props.isShow},g.a.createElement("div",{className:lr.a.mask,onClick:this.props.onClose}),g.a.createElement("div",{className:lr.a.menu,ref:this.menuRef},this.isSignedIn?this.renderUserProfile():this.renderSignIn(),this.renderItems())),window.document.body)};return e}(g.a.PureComponent);var ur=function(e){var t=Object(v["__read"])(Object(h["a"])(E["GlobalDataModule"]),2),n=t[0].globalData,a=t[1];return g.a.createElement(sr,Object(v["__assign"])({},e,{updateTranslation:a.updateTranslation,fetchGlobalData:a.fetchGlobalData,global:n}))};var cr=n("QPBD");var dr=Object(_["default"])("div",{target:"em0knzz0"})(function(e){var t=e.staticPosition;return t?{position:"relative",zIndex:1}:{position:"fixed",top:"0px",left:"0px",right:"0px",zIndex:1,"& + *":{marginTop:"47px"}}},"label:PositionContainer;");var mr=Object(_["default"])("div",{target:"em0knzz1"})({boxSizing:"content-box",height:"46px",display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"white",borderBottom:"1px solid "+j["a"].dark8},cr["a"].paddingTop(),cr["a"].paddingLeft("15px"),cr["a"].paddingRight("15px"),"label:LayoutContainer;");var pr=Object(_["default"])(function(e){return g.a.createElement("img",Object(v["__assign"])({src:Va.a,alt:"logo"},e))},{target:"em0knzz2"})({height:"23px"},"label:Logo;");var fr=Object(_["default"])(y["a"],{target:"em0knzz3"})({width:"24px",height:"24px",color:j["a"].dblue2},"label:StyledIcon;");var vr=function(e){return g.a.createElement(fr,Object(v["__assign"])({type:"menu"},e))};var br=function(e){return g.a.createElement(fr,Object(v["__assign"])({type:"account"},e))};var gr=Object(_["default"])(br,{target:"em0knzz4"})({opacity:0,pointerEvents:"none"},"label:AvatarPlaceHolder;");var hr=Object(_["default"])("img",{target:"em0knzz5"})({width:"22px",height:"22px",borderRadius:"11px"},"label:Avatar;");var yr=function(t){Object(v["__extends"])(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.state={isShowMenu:false};e.toggleMenu=function(){e.setState(function(e){var t=e.isShowMenu;return{isShowMenu:!t}})};return e}e.prototype.render=function(){return g.a.createElement(dr,{staticPosition:this.props.staticPosition},g.a.createElement(mr,null,g.a.createElement(vr,{onClick:this.toggleMenu}),this.props.children||g.a.createElement("a",{href:"/"},g.a.createElement(pr,null)),this.renderAvatar()),true&&g.a.createElement(ur,{isShow:this.state.isShowMenu,onClose:this.toggleMenu}))};e.prototype.renderAvatar=function(){if(this.context.userSlug){return g.a.createElement("a",{href:c["a"].main.paths.publicProfile.home({userSlug:this.context.userSlug})},this.context.avatar?g.a.createElement(hr,{src:this.context.avatar}):g.a.createElement(br,null))}else{return g.a.createElement(gr,null)}};e.contextType=E["userContext"];return e}(g.a.PureComponent);n.d(t,"a",function(){return kr});var kr=Object(b["memo"])(function(e){return Object(a["b"])()?g.a.createElement(yr,Object(v["__assign"])({},e)):g.a.createElement($a,Object(v["__assign"])({},e))})},jWsR:function(e,t,n){"use strict";var a=n("D57K");var r=n("ERkP");var i=n.n(r);var o=n("LR82");var l=n("uZih");var s=n.n(l);var u=n("Jf4p");var c=n("RuI9");var d=n("LJ7e");var m=n("z45D");var p=Object(d["default"])("div",{target:"e1h3n9460"})(function(e){var t=e.isError;return!t?{opacity:0,pointerEvents:"none"}:null},{transition:"opacity 0.3s"},"label:ErrorMessageContainer;");var f=Object(d["default"])("p",{target:"e1h3n9461"})(Object(a["__assign"])(Object(a["__assign"])({},m["a"]),{margin:"10px 0 20px 0"}),"label:ErrorMessagePara;");var v=n("yu9t");var b=function(e){Object(a["__extends"])(t,e);function t(){var i=e!==null&&e.apply(this,arguments)||this;i.state={value:i.props.defaultValue||"",isError:false,errorMessage:null};i.subscription=new o["a"];i.actionObserverListener=function(e){var t;if(e.type==="showError"){var n=e.value,a=n.errorMessage,r=n.inputName;if(i.props.name===r){i.updateErrorInfo(a)}}else if(e.type==="getFormValue"){e.value.addValue$.next((t={},t[i.props.name]=i.state.value,t))}};i.onBlur=function(e){if(typeof i.props.onBlur==="function"){i.props.onBlur(e)}i.validate("onBlur",i.state.value)};i.onChange=function(e){var t=e.target;var n=i.props.maxUtf8Bytes;var a=n?Object(u["a"])(t.value,n):t.value;i.setState({value:a},i.onValueChanged);i.validate("onChange",a)};i.onKeyDown=function(e){if(typeof i.props.onKeyDown==="function"){i.props.onKeyDown(e)}i.props.action$.next({type:"onKeyDown",value:{event:e}})};i.onValueChanged=function(){if(typeof i.props.onValueChanged==="function"){i.props.onValueChanged(i.state.value)}};return i}Object.defineProperty(t.prototype,"childProps",{get:function(){return Object(a["__assign"])(Object(a["__assign"])({},s()(this.props,"kind","value","validation","maxUtf8Bytes","onValueChanged","action$","onFieldMount","onFieldUnMount")),{value:this.state.value,onBlur:this.onBlur,onChange:this.onChange,onKeyDown:this.onKeyDown})},enumerable:true,configurable:true});t.prototype.componentDidMount=function(){this.subscription.add(this.props.action$.subscribe(this.actionObserverListener));this.props.onFieldMount(this.props.name,this.props.validation)};t.prototype.componentWillUnmount=function(){this.subscription.unsubscribe();this.props.onFieldUnMount(this.props.name)};t.prototype.render=function(){var e=Object(v["b"])(this.props.kind);return i.a.createElement(i.a.Fragment,null,i.a.createElement(e,Object(a["__assign"])({},this.childProps)),this.renderErrorMessage())};t.prototype.validate=function(e,t){var n=!!this.props.validation[e];if(n){var a=this.props.validation.validate(e,t);this.updateErrorInfo(a)}};t.prototype.updateErrorInfo=function(e){this.setState({isError:!!e,errorMessage:e})};t.prototype.renderErrorMessage=function(){return i.a.createElement(p,{isError:this.state.isError},i.a.createElement(f,null,this.state.errorMessage))};return t}(i.a.PureComponent);var g=t["a"]=function(t){return i.a.createElement(c["a"],null,function(e){return i.a.createElement(b,Object(a["__assign"])({},t,e))})}},jaZD:function(e,t,n){"use strict";n.d(t,"c",function(){return u});n.d(t,"b",function(){return l});n.d(t,"a",function(){return s});var a=n("D57K");var r=n("ERkP");var i=n.n(r);var o=i.a.createContext({}),l=o.Provider,s=o.Consumer;var u=function(n){return function(t){return i.a.createElement(s,null,function(e){return i.a.createElement(n,Object(a["__assign"])({},e,t))})}}},joW0:function(e,t,n){e.exports={container:"container__2tj7",mask:"mask__2rjA",menu:"menu__1San","items-area":"items-area__1g7Y",itemsArea:"items-area__1g7Y","sign-in-area":"sign-in-area__1pdO",signInArea:"sign-in-area__1pdO","user-profile-area":"user-profile-area__1VWk",userProfileArea:"user-profile-area__1VWk",link:"link__34X7",avatar:"avatar__OUBM",username:"username__2gBZ",icon:"icon__3tuU",item:"item__YG_P"}},wJz1:function(e,t,n){e.exports=n.p+"95762378db7032028ac429b8754e3a34.jpg"},yMer:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("fYnN");var r=n.n(a);function i(t){var n=new FormData;n.append("csrfmiddlewaretoken",r.a.get("csrftoken")||"");Object.keys(t).forEach(function(e){n.append(e,t[e])});return n}},ypvL:function(e,t,n){e.exports=n.p+"dc6e73ef17c81b95a36d4b461b0c2c82.png"},yu9t:function(e,t,n){"use strict";n.d(t,"a",function(){return r});n.d(t,"b",function(){return o});var a=n("Hxrh");var r;(function(e){e["Input"]="Input"})(r||(r={}));var i=new Map;i.set(r.Input,a["a"]);function o(e){return i.get(e)}},z45D:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("6h7y");var r={color:a["redA4"],fontSize:"12px",lineHeight:"18px"}}}]);
//# sourceMappingURL=noj-modules.31aac546.js.map